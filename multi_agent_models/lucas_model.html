

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>51. Asset Pricing II: The Lucas Asset Pricing Model &#8212; Quantitative Economics with Julia</title>
    <script src="https://unpkg.com/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://unpkg.com/tippy.js@6.3.1/dist/tippy-bundle.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    
        <script>
            MathJax = {
            loader: {load: ['[tex]/boldsymbol', '[tex]/textmacros']},
            tex: {
                packages: {'[+]': ['boldsymbol', 'textmacros']},
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                processEscapes: true,
                macros: {
                    "argmax" : "arg\\,max",
                    "argmin" : "arg\\,min",
                    "col"    : "col",
                    "Span"   :  "span",
                    "epsilon": "\\varepsilon",
                    "EE": "\\mathbb{E}",
                    "PP": "\\mathbb{P}",
                    "RR": "\\mathbb{R}",
                    "NN": "\\mathbb{N}",
                    "ZZ": "\\mathbb{Z}",
                    "aA": "\\mathcal{A}",
                    "bB": "\\mathcal{B}",
                    "cC": "\\mathcal{C}",
                    "dD": "\\mathcal{D}",
                    "eE": "\\mathcal{E}",
                    "fF": "\\mathcal{F}",
                    "gG": "\\mathcal{G}",
                    "hH": "\\mathcal{H}",
                }
            },
            svg: {
                fontCache: 'global',
                scale: 0.92,
                displayAlign: "center",
            },
            };
        </script>
    
    
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=e353d410970836974a52" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=e353d410970836974a52" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=e353d410970836974a52" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/quantecon-book-theme.5378fd3a70a129d690fd5fc99fb75ef7.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=e353d410970836974a52" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=e353d410970836974a52" />


    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/quantecon-book-theme.ef2ef6c3e8da75e1e736fb5fce08cde6.js"></script>
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-3PCWRLGWND"></script>
    <script>
                window.dataLayer = window.dataLayer || [];
                function gtag(){ dataLayer.push(arguments); }
                gtag('js', new Date());
                gtag('config', 'G-3PCWRLGWND');
            </script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"tex": {"macros": {"argmax": "arg\\,max", "argmin": "arg\\,min"}}, "options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'multi_agent_models/lucas_model';</script>
    <link rel="canonical" href="https://julia.quantecon.org/multi_agent_models/lucas_model.html" />
    <link rel="shortcut icon" href="../_static/lectures-favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="52. Asset Pricing III: Incomplete Markets" href="harrison_kreps.html" />
    <link rel="prev" title="50. Asset Pricing I: Finite State Models" href="markov_asset.html" />

<!-- Normal Meta Tags -->
<meta name="author" context="Jesse Perla &amp; Thomas J. Sargent &amp; John Stachurski" />
<meta name="keywords" content="Julia, QuantEcon, Quantitative Economics, Economics, Sloan, Alfred P. Sloan Foundation, Tom J. Sargent, John Stachurski" />
<meta name="description" content=This website presents a set of lectures on quantitative economic modeling, designed and written by Jesse Perla, Thomas J. Sargent and John Stachurski. The language instruction is Julia. />

<!-- Twitter tags -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@quantecon" />
<meta name="twitter:title" content="Asset Pricing II: The Lucas Asset Pricing Model"/>
<meta name="twitter:description" content="This website presents a set of lectures on quantitative economic modeling, designed and written by Jesse Perla, Thomas J. Sargent and John Stachurski. The language instruction is Julia.">
<meta name="twitter:creator" content="@quantecon">
<meta name="twitter:image" content="https://assets.quantecon.org/img/qe-twitter-logo.png">

<!-- Opengraph tags -->
<meta property="og:title" content="Asset Pricing II: The Lucas Asset Pricing Model" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://julia.quantecon.org/multi_agent_models/lucas_model.html" />
<meta property="og:image" content="https://assets.quantecon.org/img/qe-og-logo.png" />
<meta property="og:description" content="This website presents a set of lectures on quantitative economic modeling, designed and written by Jesse Perla, Thomas J. Sargent and John Stachurski. The language instruction is Julia." />
<meta property="og:site_name" content="Quantitative Economics with Julia" />
<meta name="theme-color" content="#ffffff" />

  </head>
<body>


    <span id="top"></span>

    <div class="qe-wrapper">

        <div class="qe-main">

            <div class="qe-page" id=multi_agent_models/lucas_model>

                <div class="qe-page__toc">

                    <div class="inner">

                        
                        <div class="qe-page__toc-header">
                            On this page
                        </div>


                        <nav id="bd-toc-nav" class="qe-page__toc-nav">
                            <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">51.1. Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-lucas-model">51.2. The Lucas Model</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-setup">51.2.1. Basic Setup</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#assets">51.2.1.1. Assets</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#consumers">51.2.1.2. Consumers</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pricing-a-lucas-tree">51.2.2. Pricing a Lucas Tree</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-dynamic-program">51.2.2.1. The dynamic program</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">51.2.2.2. Next steps</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#equilibrium-constraints">51.2.2.3. Equilibrium constraints</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#the-equilibrium-price-function">51.2.2.4. The equilibrium price function</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#solving-the-model">51.2.3. Solving the Model</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#setting-up-the-problem">51.2.3.1. Setting up the problem</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#a-little-fixed-point-theory">51.2.3.2. A little fixed point theory</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computation-an-example">51.2.4. Computation – An Example</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">51.3. Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise-1">51.3.1. Exercise 1</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#solutions">51.4. Solutions</a></li>
</ul>
                            <p class="logo">
                                
                                    
                                    <a href=https://quantecon.org><img src="../_static/qe-logo-large.png" class="logo" alt="logo"></a>
                                    
                                
                            </p>

                            <p class="powered">Powered by <a href="https://jupyterbook.org/">Jupyter Book</a></p>

                        </nav>

                        <div class="qe-page__toc-footer">
                            
                            
                            <p><a href="#top"><strong>Back to top</strong></a></p>
                        </div>

                    </div>

                </div>

                <div class="qe-page__header">

                    <div class="qe-page__header-copy">

                        <p class="qe-page__header-heading"><a href="../intro.html">Quantitative Economics with Julia</a></p>

                        <p class="qe-page__header-subheading">Asset Pricing II: The Lucas Asset Pricing Model</p>

                    </div>

                    <p class="qe-page__header-authors">Jesse Perla & Thomas J. Sargent & John Stachurski</p>

                </div> <!-- .page__header -->



                
                <main class="qe-page__content" role="main">
                    
                    <div>
                        
  <div id="qe-notebook-header" style="text-align:right;">
        <a href="https://quantecon.org/" title="quantecon.org">
                <img style="width:250px;display:inline;" src="https://assets.quantecon.org/img/qe-menubar-logo.svg" alt="QuantEcon">
        </a>
</div><section class="tex2jax_ignore mathjax_ignore" id="asset-pricing-ii-the-lucas-asset-pricing-model">
<h1><a class="toc-backref" href="#id2" role="doc-backlink"><span class="section-number">51. </span>Asset Pricing II: The Lucas Asset Pricing Model</a><a class="headerlink" href="#asset-pricing-ii-the-lucas-asset-pricing-model" title="Permalink to this heading">#</a></h1>
<nav class="contents" id="contents">
<span id="index-0"></span><p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#asset-pricing-ii-the-lucas-asset-pricing-model" id="id2">Asset Pricing II: The Lucas Asset Pricing Model</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id3">Overview</a></p></li>
<li><p><a class="reference internal" href="#the-lucas-model" id="id4">The Lucas Model</a></p></li>
<li><p><a class="reference internal" href="#exercises" id="id5">Exercises</a></p></li>
<li><p><a class="reference internal" href="#solutions" id="id6">Solutions</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id3" role="doc-backlink"><span class="section-number">51.1. </span>Overview</a><a class="headerlink" href="#overview" title="Permalink to this heading">#</a></h2>
<p>As stated in an <a class="reference internal" href="markov_asset.html"><span class="doc">earlier lecture</span></a>, an asset is a claim on a stream of prospective payments.</p>
<p>What is the correct price to pay for such a claim?</p>
<p>The elegant asset pricing model of Lucas <span id="id1">[<a class="reference internal" href="../zreferences.html#id102" title="Robert E Lucas, Jr. Asset prices in an exchange economy. Econometrica: Journal of the Econometric Society, 46(6):1429–1445, 1978.">Luc78</a>]</span> attempts to answer this question in an equilibrium setting with risk averse agents.</p>
<p>While we mentioned some consequences of Lucas’ model <a class="reference internal" href="markov_asset.html#mass-pra"><span class="std std-ref">earlier</span></a>, it is now time to work through the model more carefully, and try to understand where the fundamental asset pricing equation comes from.</p>
<p>A side benefit of studying Lucas’ model is that it provides a beautiful illustration of model building in general and equilibrium pricing in competitive models in particular.</p>
<p>Another difference to our <a class="reference internal" href="markov_asset.html"><span class="doc">first asset pricing lecture</span></a> is that the state space and shock will be continous rather than discrete.</p>
</section>
<section id="the-lucas-model">
<h2><a class="toc-backref" href="#id4" role="doc-backlink"><span class="section-number">51.2. </span>The Lucas Model</a><a class="headerlink" href="#the-lucas-model" title="Permalink to this heading">#</a></h2>
<p id="index-1">Lucas studied a pure exchange economy with a representative consumer (or household), where</p>
<ul class="simple">
<li><p><em>Pure exchange</em> means that all endowments are exogenous.</p></li>
<li><p><em>Representative</em> consumer means that either</p>
<ul>
<li><p>there is a single consumer (sometimes also referred to as a household), or</p></li>
<li><p>all consumers have identical endowments and preferences</p></li>
</ul>
</li>
</ul>
<p>Either way, the assumption of a representative agent means that prices adjust to eradicate desires to trade.</p>
<p>This makes it very easy to compute competitive equilibrium prices.</p>
<section id="basic-setup">
<h3><span class="section-number">51.2.1. </span>Basic Setup<a class="headerlink" href="#basic-setup" title="Permalink to this heading">#</a></h3>
<p>Let’s review the set up.</p>
<section id="assets">
<h4><span class="section-number">51.2.1.1. </span>Assets<a class="headerlink" href="#assets" title="Permalink to this heading">#</a></h4>
<p id="index-2">There is a single “productive unit” that costlessly generates a sequence of consumption goods <span class="math notranslate nohighlight">\(\{y_t\}_{t=0}^{\infty}\)</span>.</p>
<p>Another way to view <span class="math notranslate nohighlight">\(\{y_t\}_{t=0}^{\infty}\)</span> is as a <em>consumption endowment</em> for this economy.</p>
<p>We will assume that this endowment is Markovian, following the exogenous process</p>
<div class="math notranslate nohighlight">
\[
y_{t+1} = G(y_t, \xi_{t+1})
\]</div>
<p>Here <span class="math notranslate nohighlight">\(\{ \xi_t \}\)</span> is an iid shock sequence with known distribution <span class="math notranslate nohighlight">\(\phi\)</span> and <span class="math notranslate nohighlight">\(y_t \geq 0\)</span>.</p>
<p>An asset is a claim on all or part of this endowment stream.</p>
<p>The consumption goods <span class="math notranslate nohighlight">\(\{y_t\}_{t=0}^{\infty}\)</span> are nonstorable, so holding assets is the only way to transfer wealth into the future.</p>
<p>For the purposes of intuition, it’s common to think of the productive unit as a “tree” that produces fruit.</p>
<p>Based on this idea, a “Lucas tree” is a claim on the consumption endowment.</p>
</section>
<section id="consumers">
<h4><span class="section-number">51.2.1.2. </span>Consumers<a class="headerlink" href="#consumers" title="Permalink to this heading">#</a></h4>
<p id="index-3">A representative consumer ranks consumption streams <span class="math notranslate nohighlight">\(\{c_t\}\)</span> according to the time separable utility functional</p>
<div class="math notranslate nohighlight" id="equation-lt-uf">
<span class="eqno">(51.1)<a class="headerlink" href="#equation-lt-uf" title="Permalink to this equation">#</a></span>\[\mathbb{E} \sum_{t=0}^\infty \beta^t u(c_t)\]</div>
<p>Here</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(\beta \in (0,1)\)</span> is a fixed discount factor</p></li>
<li><p><span class="math notranslate nohighlight">\(u\)</span> is a strictly increasing, strictly concave, continuously differentiable period utility function</p></li>
<li><p><span class="math notranslate nohighlight">\(\mathbb{E}\)</span> is a mathematical expectation</p></li>
</ul>
</section>
</section>
<section id="pricing-a-lucas-tree">
<h3><span class="section-number">51.2.2. </span>Pricing a Lucas Tree<a class="headerlink" href="#pricing-a-lucas-tree" title="Permalink to this heading">#</a></h3>
<p id="index-4">What is an appropriate price for a claim on the consumption endowment?</p>
<p>We’ll price an <em>ex dividend</em> claim, meaning that</p>
<ul class="simple">
<li><p>the seller retains this period’s dividend</p></li>
<li><p>the buyer pays <span class="math notranslate nohighlight">\(p_t\)</span> today to purchase a claim on</p>
<ul>
<li><p><span class="math notranslate nohighlight">\(y_{t+1}\)</span> and</p></li>
<li><p>the right to sell the claim tomorrow at price <span class="math notranslate nohighlight">\(p_{t+1}\)</span></p></li>
</ul>
</li>
</ul>
<p>Since this is a competitive model, the first step is to pin down consumer
behavior, taking prices as given.</p>
<p>Next we’ll impose equilibrium constraints and try to back out prices.</p>
<p>In the consumer problem, the consumer’s control variable is the share <span class="math notranslate nohighlight">\(\pi_t\)</span> of the claim held in each period.</p>
<p>Thus, the consumer problem is to maximize <a class="reference internal" href="#equation-lt-uf">(51.1)</a> subject to</p>
<div class="math notranslate nohighlight">
\[
c_t + \pi_{t+1} p_t \leq \pi_t y_t + \pi_t p_t
\]</div>
<p>along with <span class="math notranslate nohighlight">\(c_t \geq 0\)</span> and <span class="math notranslate nohighlight">\(0 \leq \pi_t \leq 1\)</span> at each <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>The decision to hold share <span class="math notranslate nohighlight">\(\pi_t\)</span> is actually made at time <span class="math notranslate nohighlight">\(t-1\)</span>.</p>
<p>But this value is inherited as a state variable at time <span class="math notranslate nohighlight">\(t\)</span>, which explains the choice of subscript.</p>
<section id="the-dynamic-program">
<h4><span class="section-number">51.2.2.1. </span>The dynamic program<a class="headerlink" href="#the-dynamic-program" title="Permalink to this heading">#</a></h4>
<p id="index-5">We can write the consumer problem as a dynamic programming problem.</p>
<p>Our first observation is that prices depend on current information, and current information is really just the endowment process up until the current period.</p>
<p>In fact the endowment process is Markovian, so that the only relevant
information is the current state <span class="math notranslate nohighlight">\(y \in \mathbb R_+\)</span> (dropping the time subscript).</p>
<p>This leads us to guess an equilibrium where price is a function <span class="math notranslate nohighlight">\(p\)</span> of <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>Remarks on the solution method</p>
<ul class="simple">
<li><p>Since this is a competitive (read: price taking) model, the consumer will take this function <span class="math notranslate nohighlight">\(p\)</span> as .</p></li>
<li><p>In this way we determine consumer behavior given <span class="math notranslate nohighlight">\(p\)</span> and then use equilibrium conditions to recover <span class="math notranslate nohighlight">\(p\)</span>.</p></li>
<li><p>This is the standard way to solve competitive equilibrum models.</p></li>
</ul>
<p>Using the assumption that price is a given function <span class="math notranslate nohighlight">\(p\)</span> of <span class="math notranslate nohighlight">\(y\)</span>, we write the value function and constraint as</p>
<div class="math notranslate nohighlight">
\[
v(\pi, y) = \max_{c, \pi'}
    \left\{
        u(c) + \beta \int v(\pi', G(y, z)) \phi(dz)
    \right\}
\]</div>
<p>subject to</p>
<div class="math notranslate nohighlight" id="equation-preltbe">
<span class="eqno">(51.2)<a class="headerlink" href="#equation-preltbe" title="Permalink to this equation">#</a></span>\[c + \pi' p(y) \leq \pi y + \pi p(y)\]</div>
<p>We can invoke the fact that utility is increasing to claim equality in <a class="reference internal" href="#equation-preltbe">(51.2)</a> and hence eliminate the constraint, obtaining</p>
<div class="math notranslate nohighlight" id="equation-ltbe">
<span class="eqno">(51.3)<a class="headerlink" href="#equation-ltbe" title="Permalink to this equation">#</a></span>\[v(\pi, y) = \max_{\pi'}
    \left\{
        u[\pi (y + p(y)) - \pi' p(y) ] + \beta \int v(\pi', G(y, z)) \phi(dz)
    \right\}\]</div>
<p>The solution to this dynamic programming problem is an optimal policy expressing either <span class="math notranslate nohighlight">\(\pi'\)</span> or <span class="math notranslate nohighlight">\(c\)</span> as a function of the state <span class="math notranslate nohighlight">\((\pi, y)\)</span>.</p>
<ul class="simple">
<li><p>Each one determines the other, since <span class="math notranslate nohighlight">\(c(\pi, y) = \pi (y + p(y))- \pi' (\pi, y) p(y)\)</span>.</p></li>
</ul>
</section>
<section id="next-steps">
<h4><span class="section-number">51.2.2.2. </span>Next steps<a class="headerlink" href="#next-steps" title="Permalink to this heading">#</a></h4>
<p>What we need to do now is determine equilibrium prices.</p>
<p>It seems that to obtain these, we will have to</p>
<ol class="arabic simple">
<li><p>Solve this two dimensional dynamic programming problem for the optimal policy.</p></li>
<li><p>Impose equilibrium constraints.</p></li>
<li><p>Solve out for the price function <span class="math notranslate nohighlight">\(p(y)\)</span> directly.</p></li>
</ol>
<p>However, as Lucas showed, there is a related but more straightforward way to do this.</p>
</section>
<section id="equilibrium-constraints">
<h4><span class="section-number">51.2.2.3. </span>Equilibrium constraints<a class="headerlink" href="#equilibrium-constraints" title="Permalink to this heading">#</a></h4>
<p id="index-6">Since the consumption good is not storable, in equilibrium we must have <span class="math notranslate nohighlight">\(c_t = y_t\)</span> for all <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>In addition, since there is one representative consumer (alternatively, since
all consumers are identical), there should be no trade in equilibrium.</p>
<p>In particular, the representative consumer owns the whole tree in every period, so <span class="math notranslate nohighlight">\(\pi_t = 1\)</span> for all <span class="math notranslate nohighlight">\(t\)</span>.</p>
<p>Prices must adjust to satisfy these two constraints.</p>
</section>
<section id="the-equilibrium-price-function">
<h4><span class="section-number">51.2.2.4. </span>The equilibrium price function<a class="headerlink" href="#the-equilibrium-price-function" title="Permalink to this heading">#</a></h4>
<p id="index-7">Now observe that the first order condition for <a class="reference internal" href="#equation-ltbe">(51.3)</a> can be written as</p>
<div class="math notranslate nohighlight">
\[
u'(c)  p(y) = \beta \int v_1'(\pi', G(y, z)) \phi(dz)
\]</div>
<p>where <span class="math notranslate nohighlight">\(v'_1\)</span> is the derivative of <span class="math notranslate nohighlight">\(v\)</span> with respect to its first argument.</p>
<p>To obtain <span class="math notranslate nohighlight">\(v'_1\)</span> we can simply differentiate the right hand side of
<a class="reference internal" href="#equation-ltbe">(51.3)</a> with respect to <span class="math notranslate nohighlight">\(\pi\)</span>, yielding</p>
<div class="math notranslate nohighlight">
\[
v'_1(\pi, y) = u'(c) (y + p(y))
\]</div>
<p>Next we impose the equilibrium constraints while combining the last two
equations to get</p>
<div class="math notranslate nohighlight" id="equation-lteeq">
<span class="eqno">(51.4)<a class="headerlink" href="#equation-lteeq" title="Permalink to this equation">#</a></span>\[p(y)  = \beta \int \frac{u'[G(y, z)]}{u'(y)} [G(y, z) + p(G(y, z))]  \phi(dz)\]</div>
<p>In sequential rather than functional notation, we can also write this as</p>
<div class="math notranslate nohighlight" id="equation-lteeqs">
<span class="eqno">(51.5)<a class="headerlink" href="#equation-lteeqs" title="Permalink to this equation">#</a></span>\[p_t = \mathbb{E}_t \left[ \beta \frac{u'(c_{t+1})}{u'(c_t)} ( y_{t+1} + p_{t+1} ) \right]\]</div>
<p>This is the famous consumption-based asset pricing equation.</p>
<p>Before discussing it further we want to solve out for prices.</p>
</section>
</section>
<section id="solving-the-model">
<h3><span class="section-number">51.2.3. </span>Solving the Model<a class="headerlink" href="#solving-the-model" title="Permalink to this heading">#</a></h3>
<p id="index-8">Equation <a class="reference internal" href="#equation-lteeq">(51.4)</a> is a <em>functional equation</em> in the unknown function <span class="math notranslate nohighlight">\(p\)</span>.</p>
<p>The solution is an equilibrium price function <span class="math notranslate nohighlight">\(p^*\)</span>.</p>
<p>Let’s look at how to obtain it.</p>
<section id="setting-up-the-problem">
<h4><span class="section-number">51.2.3.1. </span>Setting up the problem<a class="headerlink" href="#setting-up-the-problem" title="Permalink to this heading">#</a></h4>
<p>Instead of solving for it directly we’ll follow Lucas’ indirect approach, first setting</p>
<div class="math notranslate nohighlight" id="equation-ltffp">
<span class="eqno">(51.6)<a class="headerlink" href="#equation-ltffp" title="Permalink to this equation">#</a></span>\[f(y) := u'(y) p(y)\]</div>
<p>so that <a class="reference internal" href="#equation-lteeq">(51.4)</a> becomes</p>
<div class="math notranslate nohighlight" id="equation-lteeq2">
<span class="eqno">(51.7)<a class="headerlink" href="#equation-lteeq2" title="Permalink to this equation">#</a></span>\[f(y) = h(y) + \beta \int f[G(y, z)] \phi(dz)\]</div>
<p>Here <span class="math notranslate nohighlight">\(h(y) := \beta \int u'[G(y, z)] G(y, z)  \phi(dz)\)</span> is a function that
depends only on the primitives.</p>
<p>Equation <a class="reference internal" href="#equation-lteeq2">(51.7)</a> is a functional equation in <span class="math notranslate nohighlight">\(f\)</span>.</p>
<p>The plan is to solve out for <span class="math notranslate nohighlight">\(f\)</span> and convert back to <span class="math notranslate nohighlight">\(p\)</span> via <a class="reference internal" href="#equation-ltffp">(51.6)</a>.</p>
<p>To solve <a class="reference internal" href="#equation-lteeq2">(51.7)</a> we’ll use a standard method: convert it to a fixed point problem.</p>
<p>First we introduce the operator <span class="math notranslate nohighlight">\(T\)</span> mapping <span class="math notranslate nohighlight">\(f\)</span> into <span class="math notranslate nohighlight">\(Tf\)</span> as defined by</p>
<div class="math notranslate nohighlight" id="equation-lteeqt">
<span class="eqno">(51.8)<a class="headerlink" href="#equation-lteeqt" title="Permalink to this equation">#</a></span>\[(Tf)(y) = h(y) + \beta \int f[G(y, z)] \phi(dz)\]</div>
<p>The reason we do this is that a solution to <a class="reference internal" href="#equation-lteeq2">(51.7)</a> now corresponds to a
function <span class="math notranslate nohighlight">\(f^*\)</span> satisfying <span class="math notranslate nohighlight">\((Tf^*)(y) = f^*(y)\)</span> for all <span class="math notranslate nohighlight">\(y\)</span>.</p>
<p>In other words, a solution is a <em>fixed point</em> of <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>This means that we can use fixed point theory to obtain and compute the solution.</p>
</section>
<section id="a-little-fixed-point-theory">
<h4><span class="section-number">51.2.3.2. </span>A little fixed point theory<a class="headerlink" href="#a-little-fixed-point-theory" title="Permalink to this heading">#</a></h4>
<p id="index-9">Let <span class="math notranslate nohighlight">\(cb\mathbb{R}_+\)</span> be the set of continuous bounded functions <span class="math notranslate nohighlight">\(f \colon \mathbb{R}_+ \to \mathbb{R}_+\)</span>.</p>
<p>We now show that</p>
<ol class="arabic simple">
<li><p><span class="math notranslate nohighlight">\(T\)</span> has exactly one fixed point <span class="math notranslate nohighlight">\(f^*\)</span> in <span class="math notranslate nohighlight">\(cb\mathbb{R}_+\)</span>.</p></li>
<li><p>For any <span class="math notranslate nohighlight">\(f \in cb\mathbb{R}_+\)</span>, the sequence <span class="math notranslate nohighlight">\(T^k f\)</span> converges
uniformly to <span class="math notranslate nohighlight">\(f^*\)</span>.</p></li>
</ol>
<p>(Note: If you find the mathematics heavy going you can take 1–2 as given and skip to the <a class="reference internal" href="#lt-comp-eg"><span class="std std-ref">next section</span></a>)</p>
<p>Recall the <a class="reference external" href="https://en.wikipedia.org/wiki/Banach_fixed-point_theorem">Banach contraction mapping theorem</a>.</p>
<p>It tells us that the previous statements will be true if we can find an
<span class="math notranslate nohighlight">\(\alpha &lt; 1\)</span> such that</p>
<div class="math notranslate nohighlight" id="equation-ltbc">
<span class="eqno">(51.9)<a class="headerlink" href="#equation-ltbc" title="Permalink to this equation">#</a></span>\[\| Tf - Tg \| \leq \alpha \| f - g \|,
\qquad \forall \, f, g \in cb\mathbb{R}_+\]</div>
<p>Here <span class="math notranslate nohighlight">\(\|h\| := \sup_{x \in \mathbb{R}_+} |h(x)|\)</span>.</p>
<p>To see that <a class="reference internal" href="#equation-ltbc">(51.9)</a> is valid, pick any <span class="math notranslate nohighlight">\(f,g \in cb\mathbb{R}_+\)</span> and any <span class="math notranslate nohighlight">\(y \in \mathbb{R}_+\)</span>.</p>
<p>Observe that, since integrals get larger when absolute values are moved to the
inside,</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{aligned}
    |Tf(y) - Tg(y)|
    &amp; = \left| \beta \int f[G(y, z)] \phi(dz)
        -  \beta \int g[G(y, z)] \phi(dz) \right|
    \\
    &amp; \leq \beta \int \left| f[G(y, z)] -  g[G(y, z)] \right| \phi(dz)
    \\
    &amp; \leq \beta \int \| f -  g \| \phi(dz)
    \\
    &amp; = \beta  \| f -  g \|
\end{aligned}
\end{split}\]</div>
<p>Since the right hand side is an upper bound, taking the sup over all <span class="math notranslate nohighlight">\(y\)</span>
on the left hand side gives <a class="reference internal" href="#equation-ltbc">(51.9)</a> with <span class="math notranslate nohighlight">\(\alpha := \beta\)</span>.</p>
</section>
</section>
<section id="computation-an-example">
<span id="lt-comp-eg"></span><h3><span class="section-number">51.2.4. </span>Computation – An Example<a class="headerlink" href="#computation-an-example" title="Permalink to this heading">#</a></h3>
<p id="index-10">The preceding discussion tells that we can compute <span class="math notranslate nohighlight">\(f^*\)</span> by picking any arbitrary <span class="math notranslate nohighlight">\(f \in cb\mathbb{R}_+\)</span> and then iterating with <span class="math notranslate nohighlight">\(T\)</span>.</p>
<p>The equilibrium price function <span class="math notranslate nohighlight">\(p^*\)</span> can then be recovered by <span class="math notranslate nohighlight">\(p^*(y) = f^*(y) / u'(y)\)</span>.</p>
<p>Let’s try this when <span class="math notranslate nohighlight">\(\ln y_{t+1} = \alpha \ln y_t + \sigma \epsilon_{t+1}\)</span> where <span class="math notranslate nohighlight">\(\{\epsilon_t\}\)</span> is iid and standard normal.</p>
<p>Utility will take the isoelastic form <span class="math notranslate nohighlight">\(u(c) = c^{1-\gamma}/(1-\gamma)\)</span>, where <span class="math notranslate nohighlight">\(\gamma &gt; 0\)</span> is the coefficient of relative risk aversion.</p>
<p>Some code to implement the iterative computational procedure can be found below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="k">using</span><span class="w"> </span><span class="n">LinearAlgebra</span><span class="p">,</span><span class="w"> </span><span class="n">Statistics</span>
<span class="k">using</span><span class="w"> </span><span class="n">Distributions</span><span class="p">,</span><span class="w"> </span><span class="n">Interpolations</span><span class="p">,</span><span class="w"> </span><span class="n">LaTeXStrings</span><span class="p">,</span><span class="w"> </span><span class="n">Parameters</span><span class="p">,</span><span class="w"> </span><span class="n">Plots</span><span class="p">,</span><span class="w"> </span><span class="n">Random</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="c"># model</span>
<span class="k">function</span><span class="w"> </span><span class="n">LucasTree</span><span class="p">(;</span><span class="n">γ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span>
<span class="w">                    </span><span class="n">β</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span>
<span class="w">                    </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.9</span><span class="p">,</span>
<span class="w">                    </span><span class="n">σ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">,</span>
<span class="w">                    </span><span class="n">grid_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>

<span class="w">    </span><span class="n">ϕ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LogNormal</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="n">σ</span><span class="p">)</span>
<span class="w">    </span><span class="n">shocks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rand</span><span class="p">(</span><span class="n">ϕ</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">)</span>

<span class="w">    </span><span class="c"># build a grid with mass around stationary distribution</span>
<span class="w">    </span><span class="n">ssd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">σ</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">α</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="w">    </span><span class="n">grid_min</span><span class="p">,</span><span class="w"> </span><span class="n">grid_max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="n">ssd</span><span class="p">),</span><span class="w"> </span><span class="n">exp</span><span class="p">(</span><span class="mi">4</span><span class="n">ssd</span><span class="p">)</span>
<span class="w">    </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">range</span><span class="p">(</span><span class="n">grid_min</span><span class="p">,</span><span class="w"> </span><span class="n">grid_max</span><span class="p">,</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grid_size</span><span class="p">)</span>

<span class="w">    </span><span class="c"># set h(y) = β * int u&#39;(G(y,z)) G(y,z) ϕ(dz)</span>
<span class="w">    </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">similar</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">enumerate</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span>
<span class="w">        </span><span class="n">h</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">mean</span><span class="p">((</span><span class="n">y</span><span class="o">^</span><span class="n">α</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">shocks</span><span class="p">)</span><span class="o">.^</span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">γ</span><span class="p">))</span>
<span class="w">    </span><span class="k">end</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="n">γ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">γ</span><span class="p">,</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">β</span><span class="p">,</span><span class="w"> </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">α</span><span class="p">,</span><span class="w"> </span><span class="n">σ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">σ</span><span class="p">,</span><span class="w"> </span><span class="n">ϕ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ϕ</span><span class="p">,</span><span class="w"> </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">shocks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">shocks</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">h</span><span class="p">)</span>
<span class="k">end</span>

<span class="c"># approximate Lucas operator, which returns the updated function Tf on the grid</span>
<span class="k">function</span><span class="w"> </span><span class="n">lucas_operator</span><span class="p">(</span><span class="n">lt</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)</span>

<span class="w">    </span><span class="c"># unpack input</span>
<span class="w">    </span><span class="p">(;</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">α</span><span class="p">,</span><span class="w"> </span><span class="n">β</span><span class="p">,</span><span class="w"> </span><span class="n">h</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lt</span>
<span class="w">    </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lt</span><span class="o">.</span><span class="n">shocks</span>

<span class="w">    </span><span class="n">Af</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LinearInterpolation</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">extrapolation_bc</span><span class="o">=</span><span class="n">Line</span><span class="p">())</span>

<span class="w">    </span><span class="n">Tf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="n">h</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">mean</span><span class="p">(</span><span class="n">Af</span><span class="o">.</span><span class="p">(</span><span class="n">grid</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">^</span><span class="n">α</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">z</span><span class="p">))</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="n">length</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Tf</span>
<span class="k">end</span>

<span class="c"># get equilibrium price for Lucas tree</span>
<span class="k">function</span><span class="w"> </span><span class="n">solve_lucas_model</span><span class="p">(</span><span class="n">lt</span><span class="p">;</span>
<span class="w">                           </span><span class="n">tol</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1e-6</span><span class="p">,</span>
<span class="w">                           </span><span class="n">max_iter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">)</span>

<span class="w">    </span><span class="p">(;</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">γ</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lt</span>

<span class="w">    </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
<span class="w">    </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">zero</span><span class="p">(</span><span class="n">grid</span><span class="p">)</span><span class="w">  </span><span class="c"># Initial guess of f</span>
<span class="w">    </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tol</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span>

<span class="w">    </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">error</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">tol</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">max_iter</span><span class="p">)</span>
<span class="w">        </span><span class="n">f_new</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lucas_operator</span><span class="p">(</span><span class="n">lt</span><span class="p">,</span><span class="w"> </span><span class="n">f</span><span class="p">)</span>
<span class="w">        </span><span class="n">error</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">maximum</span><span class="p">(</span><span class="n">abs</span><span class="p">,</span><span class="w"> </span><span class="n">f_new</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">f</span><span class="p">)</span>
<span class="w">        </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f_new</span>
<span class="w">        </span><span class="n">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>
<span class="w">    </span><span class="k">end</span>

<span class="w">    </span><span class="c"># p(y) = f(y) * y ^ γ</span>
<span class="w">    </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="n">grid</span><span class="o">.^</span><span class="n">γ</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">price</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>solve_lucas_model (generic function with 1 method)
</pre></div>
</div>
</div>
</div>
<p>An example of usage is given in the docstring and repeated here</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">Random</span><span class="o">.</span><span class="n">seed!</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span><span class="w"> </span><span class="c"># For reproducible results.</span>

<span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LucasTree</span><span class="p">(</span><span class="n">γ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.0</span><span class="p">,</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.95</span><span class="p">,</span><span class="w"> </span><span class="n">α</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.90</span><span class="p">,</span><span class="w"> </span><span class="n">σ</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">price_vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_lucas_model</span><span class="p">(</span><span class="n">tree</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<p>Here’s the resulting price function</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">price_vals</span><span class="p">,</span><span class="w"> </span><span class="n">lw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;p^*(y)&quot;</span><span class="p">)</span>
<span class="n">plot!</span><span class="p">(</span><span class="n">xlabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;y&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ylabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:topleft</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip400">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip400)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip401">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<defs>
  <clipPath id="clip402">
    <rect x="205" y="47" width="2149" height="1377"/>
  </clipPath>
</defs>
<path clip-path="url(#clip400)" d="M205.121 1423.18 L2352.76 1423.18 L2352.76 47.2441 L205.121 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="362.728,1423.18 362.728,47.2441 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="844.213,1423.18 844.213,47.2441 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1325.7,1423.18 1325.7,47.2441 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1807.18,1423.18 1807.18,47.2441 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2288.67,1423.18 2288.67,47.2441 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,1423.18 2352.76,1423.18 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="362.728,1423.18 362.728,1404.28 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="844.213,1423.18 844.213,1404.28 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1325.7,1423.18 1325.7,1404.28 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1807.18,1423.18 1807.18,1404.28 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2288.67,1423.18 2288.67,1404.28 "/>
<path clip-path="url(#clip400)" d="M340.61 1454.1 Q336.999 1454.1 335.171 1457.66 Q333.365 1461.2 333.365 1468.33 Q333.365 1475.44 335.171 1479.01 Q336.999 1482.55 340.61 1482.55 Q344.245 1482.55 346.05 1479.01 Q347.879 1475.44 347.879 1468.33 Q347.879 1461.2 346.05 1457.66 Q344.245 1454.1 340.61 1454.1 M340.61 1450.39 Q346.42 1450.39 349.476 1455 Q352.555 1459.58 352.555 1468.33 Q352.555 1477.06 349.476 1481.67 Q346.42 1486.25 340.61 1486.25 Q334.8 1486.25 331.721 1481.67 Q328.666 1477.06 328.666 1468.33 Q328.666 1459.58 331.721 1455 Q334.8 1450.39 340.61 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M360.772 1479.7 L365.657 1479.7 L365.657 1485.58 L360.772 1485.58 L360.772 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M375.888 1451.02 L394.244 1451.02 L394.244 1454.96 L380.17 1454.96 L380.17 1463.43 Q381.189 1463.08 382.207 1462.92 Q383.226 1462.73 384.244 1462.73 Q390.031 1462.73 393.411 1465.9 Q396.791 1469.08 396.791 1474.49 Q396.791 1480.07 393.318 1483.17 Q389.846 1486.25 383.527 1486.25 Q381.351 1486.25 379.082 1485.88 Q376.837 1485.51 374.43 1484.77 L374.43 1480.07 Q376.513 1481.2 378.735 1481.76 Q380.957 1482.32 383.434 1482.32 Q387.439 1482.32 389.777 1480.21 Q392.115 1478.1 392.115 1474.49 Q392.115 1470.88 389.777 1468.77 Q387.439 1466.67 383.434 1466.67 Q381.559 1466.67 379.684 1467.08 Q377.832 1467.5 375.888 1468.38 L375.888 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M811.366 1481.64 L819.005 1481.64 L819.005 1455.28 L810.695 1456.95 L810.695 1452.69 L818.959 1451.02 L823.635 1451.02 L823.635 1481.64 L831.273 1481.64 L831.273 1485.58 L811.366 1485.58 L811.366 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M840.718 1479.7 L845.602 1479.7 L845.602 1485.58 L840.718 1485.58 L840.718 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M865.787 1454.1 Q862.176 1454.1 860.347 1457.66 Q858.542 1461.2 858.542 1468.33 Q858.542 1475.44 860.347 1479.01 Q862.176 1482.55 865.787 1482.55 Q869.421 1482.55 871.227 1479.01 Q873.056 1475.44 873.056 1468.33 Q873.056 1461.2 871.227 1457.66 Q869.421 1454.1 865.787 1454.1 M865.787 1450.39 Q871.597 1450.39 874.653 1455 Q877.732 1459.58 877.732 1468.33 Q877.732 1477.06 874.653 1481.67 Q871.597 1486.25 865.787 1486.25 Q859.977 1486.25 856.898 1481.67 Q853.843 1477.06 853.843 1468.33 Q853.843 1459.58 856.898 1455 Q859.977 1450.39 865.787 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1293.35 1481.64 L1300.99 1481.64 L1300.99 1455.28 L1292.68 1456.95 L1292.68 1452.69 L1300.94 1451.02 L1305.62 1451.02 L1305.62 1481.64 L1313.26 1481.64 L1313.26 1485.58 L1293.35 1485.58 L1293.35 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1322.7 1479.7 L1327.58 1479.7 L1327.58 1485.58 L1322.7 1485.58 L1322.7 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1337.82 1451.02 L1356.17 1451.02 L1356.17 1454.96 L1342.1 1454.96 L1342.1 1463.43 Q1343.12 1463.08 1344.14 1462.92 Q1345.15 1462.73 1346.17 1462.73 Q1351.96 1462.73 1355.34 1465.9 Q1358.72 1469.08 1358.72 1474.49 Q1358.72 1480.07 1355.25 1483.17 Q1351.77 1486.25 1345.45 1486.25 Q1343.28 1486.25 1341.01 1485.88 Q1338.77 1485.51 1336.36 1484.77 L1336.36 1480.07 Q1338.44 1481.2 1340.66 1481.76 Q1342.89 1482.32 1345.36 1482.32 Q1349.37 1482.32 1351.7 1480.21 Q1354.04 1478.1 1354.04 1474.49 Q1354.04 1470.88 1351.7 1468.77 Q1349.37 1466.67 1345.36 1466.67 Q1343.49 1466.67 1341.61 1467.08 Q1339.76 1467.5 1337.82 1468.38 L1337.82 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1778.42 1481.64 L1794.74 1481.64 L1794.74 1485.58 L1772.8 1485.58 L1772.8 1481.64 Q1775.46 1478.89 1780.04 1474.26 Q1784.65 1469.61 1785.83 1468.27 Q1788.07 1465.74 1788.95 1464.01 Q1789.86 1462.25 1789.86 1460.56 Q1789.86 1457.8 1787.91 1456.07 Q1785.99 1454.33 1782.89 1454.33 Q1780.69 1454.33 1778.24 1455.09 Q1775.81 1455.86 1773.03 1457.41 L1773.03 1452.69 Q1775.85 1451.55 1778.31 1450.97 Q1780.76 1450.39 1782.8 1450.39 Q1788.17 1450.39 1791.36 1453.08 Q1794.56 1455.77 1794.56 1460.26 Q1794.56 1462.39 1793.75 1464.31 Q1792.96 1466.2 1790.85 1468.8 Q1790.27 1469.47 1787.17 1472.69 Q1784.07 1475.88 1778.42 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1804.56 1479.7 L1809.44 1479.7 L1809.44 1485.58 L1804.56 1485.58 L1804.56 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1829.63 1454.1 Q1826.01 1454.1 1824.19 1457.66 Q1822.38 1461.2 1822.38 1468.33 Q1822.38 1475.44 1824.19 1479.01 Q1826.01 1482.55 1829.63 1482.55 Q1833.26 1482.55 1835.06 1479.01 Q1836.89 1475.44 1836.89 1468.33 Q1836.89 1461.2 1835.06 1457.66 Q1833.26 1454.1 1829.63 1454.1 M1829.63 1450.39 Q1835.44 1450.39 1838.49 1455 Q1841.57 1459.58 1841.57 1468.33 Q1841.57 1477.06 1838.49 1481.67 Q1835.44 1486.25 1829.63 1486.25 Q1823.81 1486.25 1820.74 1481.67 Q1817.68 1477.06 1817.68 1468.33 Q1817.68 1459.58 1820.74 1455 Q1823.81 1450.39 1829.63 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M2260.4 1481.64 L2276.72 1481.64 L2276.72 1485.58 L2254.78 1485.58 L2254.78 1481.64 Q2257.44 1478.89 2262.02 1474.26 Q2266.63 1469.61 2267.81 1468.27 Q2270.06 1465.74 2270.94 1464.01 Q2271.84 1462.25 2271.84 1460.56 Q2271.84 1457.8 2269.89 1456.07 Q2267.97 1454.33 2264.87 1454.33 Q2262.67 1454.33 2260.22 1455.09 Q2257.79 1455.86 2255.01 1457.41 L2255.01 1452.69 Q2257.83 1451.55 2260.29 1450.97 Q2262.74 1450.39 2264.78 1450.39 Q2270.15 1450.39 2273.34 1453.08 Q2276.54 1455.77 2276.54 1460.26 Q2276.54 1462.39 2275.73 1464.31 Q2274.94 1466.2 2272.83 1468.8 Q2272.26 1469.47 2269.15 1472.69 Q2266.05 1475.88 2260.4 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M2286.54 1479.7 L2291.42 1479.7 L2291.42 1485.58 L2286.54 1485.58 L2286.54 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M2301.65 1451.02 L2320.01 1451.02 L2320.01 1454.96 L2305.94 1454.96 L2305.94 1463.43 Q2306.95 1463.08 2307.97 1462.92 Q2308.99 1462.73 2310.01 1462.73 Q2315.8 1462.73 2319.18 1465.9 Q2322.56 1469.08 2322.56 1474.49 Q2322.56 1480.07 2319.08 1483.17 Q2315.61 1486.25 2309.29 1486.25 Q2307.12 1486.25 2304.85 1485.88 Q2302.6 1485.51 2300.2 1484.77 L2300.2 1480.07 Q2302.28 1481.2 2304.5 1481.76 Q2306.72 1482.32 2309.2 1482.32 Q2313.2 1482.32 2315.54 1480.21 Q2317.88 1478.1 2317.88 1474.49 Q2317.88 1470.88 2315.54 1468.77 Q2313.2 1466.67 2309.2 1466.67 Q2307.33 1466.67 2305.45 1467.08 Q2303.6 1467.5 2301.65 1468.38 L2301.65 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M1293.38 1520.64 Q1293.38 1521.09 1293.09 1522.15 L1286.77 1547.34 Q1285.39 1552.94 1280.88 1556.87 Q1276.4 1560.8 1271.31 1560.8 Q1268.26 1560.8 1266.29 1559.16 Q1264.33 1557.55 1264.33 1555.07 Q1264.33 1552.88 1265.49 1551.82 Q1266.65 1550.78 1268.03 1550.78 Q1268.48 1550.78 1268.96 1550.91 Q1269.45 1551.04 1269.96 1551.59 Q1270.48 1552.14 1270.48 1553.07 Q1270.48 1554.58 1269.16 1555.78 Q1268.51 1556.32 1267.9 1556.45 Q1267.32 1556.58 1266.32 1556.58 Q1266.71 1557.48 1267.42 1558.1 Q1268.13 1558.71 1268.93 1558.93 Q1269.74 1559.19 1270.25 1559.25 Q1270.8 1559.35 1271.31 1559.35 Q1275.44 1559.35 1278.59 1555.2 Q1279.53 1553.94 1280.2 1552.68 Q1280.91 1551.46 1281.43 1549.95 Q1281.94 1548.47 1282.17 1547.66 Q1282.43 1546.86 1282.88 1545.02 Q1279.88 1548.01 1276.21 1548.01 Q1274.66 1548.01 1273.28 1547.6 Q1271.93 1547.18 1270.74 1546.31 Q1269.54 1545.41 1268.84 1543.83 Q1268.16 1542.25 1268.16 1540.16 Q1268.16 1537.93 1269.03 1534.91 Q1269.9 1531.88 1271.99 1526.31 Q1273.12 1523.18 1273.12 1521.67 Q1273.12 1520.93 1272.96 1520.48 Q1272.8 1520 1272.47 1519.83 Q1272.15 1519.64 1271.96 1519.61 Q1271.8 1519.58 1271.48 1519.58 Q1269.58 1519.58 1267.8 1521.51 Q1266.03 1523.44 1264.81 1527.76 Q1264.55 1528.56 1264.39 1528.76 Q1264.23 1528.95 1263.75 1528.95 Q1262.94 1528.92 1262.94 1528.27 Q1262.94 1528.01 1263.23 1527.02 Q1263.52 1525.99 1264.2 1524.47 Q1264.91 1522.93 1265.87 1521.54 Q1266.84 1520.12 1268.35 1519.13 Q1269.9 1518.13 1271.67 1518.13 Q1274.08 1518.13 1275.57 1519.71 Q1277.08 1521.25 1277.08 1523.54 Q1277.08 1524.47 1276.82 1525.31 Q1276.6 1526.11 1275.76 1528.27 Q1272.38 1536.97 1272.38 1541.22 Q1272.38 1542.25 1272.54 1543.12 Q1272.73 1543.96 1273.15 1544.79 Q1273.57 1545.6 1274.41 1546.08 Q1275.28 1546.53 1276.47 1546.53 Q1277.98 1546.53 1279.4 1545.82 Q1280.85 1545.08 1281.75 1544.09 Q1282.68 1543.09 1283.23 1542.25 Q1283.81 1541.38 1283.94 1540.93 L1286.9 1529.08 L1288.22 1523.8 Q1288.83 1520.93 1289.12 1520.22 Q1289.51 1519.54 1290.19 1519.19 Q1290.86 1518.84 1291.44 1518.84 Q1292.25 1518.84 1292.8 1519.32 Q1293.38 1519.8 1293.38 1520.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="205.121,1147.25 2352.76,1147.25 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="205.121,848.561 2352.76,848.561 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="205.121,549.877 2352.76,549.877 "/>
<polyline clip-path="url(#clip402)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="205.121,251.193 2352.76,251.193 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,1423.18 205.121,47.2441 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,1147.25 224.019,1147.25 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,848.561 224.019,848.561 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,549.877 224.019,549.877 "/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="205.121,251.193 224.019,251.193 "/>
<path clip-path="url(#clip400)" d="M121.043 1160.59 L137.362 1160.59 L137.362 1164.53 L115.418 1164.53 L115.418 1160.59 Q118.08 1157.84 122.663 1153.21 Q127.269 1148.55 128.45 1147.21 Q130.695 1144.69 131.575 1142.95 Q132.478 1141.19 132.478 1139.5 Q132.478 1136.75 130.533 1135.01 Q128.612 1133.28 125.51 1133.28 Q123.311 1133.28 120.857 1134.04 Q118.427 1134.8 115.649 1136.35 L115.649 1131.63 Q118.473 1130.5 120.927 1129.92 Q123.38 1129.34 125.418 1129.34 Q130.788 1129.34 133.982 1132.03 Q137.177 1134.71 137.177 1139.2 Q137.177 1141.33 136.367 1143.25 Q135.579 1145.15 133.473 1147.74 Q132.894 1148.41 129.792 1151.63 Q126.691 1154.83 121.043 1160.59 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M157.177 1133.04 Q153.566 1133.04 151.737 1136.61 Q149.931 1140.15 149.931 1147.28 Q149.931 1154.39 151.737 1157.95 Q153.566 1161.49 157.177 1161.49 Q160.811 1161.49 162.616 1157.95 Q164.445 1154.39 164.445 1147.28 Q164.445 1140.15 162.616 1136.61 Q160.811 1133.04 157.177 1133.04 M157.177 1129.34 Q162.987 1129.34 166.042 1133.95 Q169.121 1138.53 169.121 1147.28 Q169.121 1156.01 166.042 1160.61 Q162.987 1165.2 157.177 1165.2 Q151.366 1165.2 148.288 1160.61 Q145.232 1156.01 145.232 1147.28 Q145.232 1138.53 148.288 1133.95 Q151.366 1129.34 157.177 1129.34 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M129.862 835.355 L118.056 853.804 L129.862 853.804 L129.862 835.355 M128.635 831.281 L134.515 831.281 L134.515 853.804 L139.445 853.804 L139.445 857.693 L134.515 857.693 L134.515 865.841 L129.862 865.841 L129.862 857.693 L114.26 857.693 L114.26 853.179 L128.635 831.281 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M157.177 834.36 Q153.566 834.36 151.737 837.925 Q149.931 841.467 149.931 848.596 Q149.931 855.703 151.737 859.267 Q153.566 862.809 157.177 862.809 Q160.811 862.809 162.616 859.267 Q164.445 855.703 164.445 848.596 Q164.445 841.467 162.616 837.925 Q160.811 834.36 157.177 834.36 M157.177 830.656 Q162.987 830.656 166.042 835.263 Q169.121 839.846 169.121 848.596 Q169.121 857.323 166.042 861.929 Q162.987 866.513 157.177 866.513 Q151.366 866.513 148.288 861.929 Q145.232 857.323 145.232 848.596 Q145.232 839.846 148.288 835.263 Q151.366 830.656 157.177 830.656 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M127.593 548.014 Q124.445 548.014 122.593 550.167 Q120.765 552.32 120.765 556.07 Q120.765 559.796 122.593 561.972 Q124.445 564.125 127.593 564.125 Q130.742 564.125 132.57 561.972 Q134.422 559.796 134.422 556.07 Q134.422 552.32 132.57 550.167 Q130.742 548.014 127.593 548.014 M136.876 533.361 L136.876 537.621 Q135.117 536.787 133.311 536.347 Q131.529 535.908 129.769 535.908 Q125.14 535.908 122.686 539.033 Q120.255 542.158 119.908 548.477 Q121.274 546.463 123.334 545.398 Q125.394 544.31 127.871 544.31 Q133.08 544.31 136.089 547.482 Q139.121 550.63 139.121 556.07 Q139.121 561.394 135.973 564.611 Q132.825 567.829 127.593 567.829 Q121.598 567.829 118.427 563.245 Q115.256 558.639 115.256 549.912 Q115.256 541.718 119.144 536.857 Q123.033 531.972 129.584 531.972 Q131.343 531.972 133.126 532.32 Q134.931 532.667 136.876 533.361 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M157.177 535.676 Q153.566 535.676 151.737 539.241 Q149.931 542.783 149.931 549.912 Q149.931 557.019 151.737 560.583 Q153.566 564.125 157.177 564.125 Q160.811 564.125 162.616 560.583 Q164.445 557.019 164.445 549.912 Q164.445 542.783 162.616 539.241 Q160.811 535.676 157.177 535.676 M157.177 531.972 Q162.987 531.972 166.042 536.579 Q169.121 541.162 169.121 549.912 Q169.121 558.639 166.042 563.245 Q162.987 567.829 157.177 567.829 Q151.366 567.829 148.288 563.245 Q145.232 558.639 145.232 549.912 Q145.232 541.162 148.288 536.579 Q151.366 531.972 157.177 531.972 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M127.015 252.062 Q123.681 252.062 121.76 253.844 Q119.862 255.626 119.862 258.751 Q119.862 261.876 121.76 263.659 Q123.681 265.441 127.015 265.441 Q130.348 265.441 132.269 263.659 Q134.191 261.853 134.191 258.751 Q134.191 255.626 132.269 253.844 Q130.371 252.062 127.015 252.062 M122.339 250.071 Q119.33 249.33 117.64 247.27 Q115.973 245.21 115.973 242.247 Q115.973 238.103 118.913 235.696 Q121.876 233.288 127.015 233.288 Q132.177 233.288 135.117 235.696 Q138.056 238.103 138.056 242.247 Q138.056 245.21 136.367 247.27 Q134.7 249.33 131.714 250.071 Q135.093 250.858 136.968 253.149 Q138.867 255.441 138.867 258.751 Q138.867 263.774 135.788 266.46 Q132.732 269.145 127.015 269.145 Q121.297 269.145 118.218 266.46 Q115.163 263.774 115.163 258.751 Q115.163 255.441 117.061 253.149 Q118.959 250.858 122.339 250.071 M120.626 242.687 Q120.626 245.372 122.293 246.876 Q123.982 248.381 127.015 248.381 Q130.024 248.381 131.714 246.876 Q133.427 245.372 133.427 242.687 Q133.427 240.001 131.714 238.497 Q130.024 236.992 127.015 236.992 Q123.982 236.992 122.293 238.497 Q120.626 240.001 120.626 242.687 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M157.177 236.992 Q153.566 236.992 151.737 240.557 Q149.931 244.099 149.931 251.228 Q149.931 258.335 151.737 261.899 Q153.566 265.441 157.177 265.441 Q160.811 265.441 162.616 261.899 Q164.445 258.335 164.445 251.228 Q164.445 244.099 162.616 240.557 Q160.811 236.992 157.177 236.992 M157.177 233.288 Q162.987 233.288 166.042 237.895 Q169.121 242.478 169.121 251.228 Q169.121 259.955 166.042 264.561 Q162.987 269.145 157.177 269.145 Q151.366 269.145 148.288 264.561 Q145.232 259.955 145.232 251.228 Q145.232 242.478 148.288 237.895 Q151.366 233.288 157.177 233.288 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M58.657 805.744 L77.5631 805.744 L77.5631 811.632 L28.3562 811.632 L28.3562 805.744 L33.7671 805.744 Q30.5842 803.898 29.0564 801.097 Q27.4968 798.264 27.4968 794.349 Q27.4968 787.856 32.6531 783.814 Q37.8093 779.74 46.212 779.74 Q54.6147 779.74 59.771 783.814 Q64.9272 787.856 64.9272 794.349 Q64.9272 798.264 63.3994 801.097 Q61.8398 803.898 58.657 805.744 M46.212 785.819 Q39.7508 785.819 36.0905 788.493 Q32.3984 791.135 32.3984 795.782 Q32.3984 800.429 36.0905 803.102 Q39.7508 805.744 46.212 805.744 Q52.6732 805.744 56.3653 803.102 Q60.0256 800.429 60.0256 795.782 Q60.0256 791.135 56.3653 788.493 Q52.6732 785.819 46.212 785.819 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M33.8307 749.376 Q33.2578 750.362 33.0032 751.54 Q32.7167 752.686 32.7167 754.086 Q32.7167 759.052 35.9632 761.725 Q39.1779 764.367 45.2253 764.367 L64.0042 764.367 L64.0042 770.255 L28.3562 770.255 L28.3562 764.367 L33.8944 764.367 Q30.6479 762.521 29.0883 759.561 Q27.4968 756.601 27.4968 752.368 Q27.4968 751.763 27.5923 751.031 Q27.656 750.299 27.8151 749.407 L33.8307 749.376 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M28.3562 743.233 L28.3562 737.376 L64.0042 737.376 L64.0042 743.233 L28.3562 743.233 M14.479 743.233 L14.479 737.376 L21.895 737.376 L21.895 743.233 L14.479 743.233 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M29.7248 699.469 L35.1993 699.469 Q33.8307 701.951 33.1623 704.466 Q32.4621 706.948 32.4621 709.495 Q32.4621 715.192 36.0905 718.343 Q39.6872 721.494 46.212 721.494 Q52.7369 721.494 56.3653 718.343 Q59.9619 715.192 59.9619 709.495 Q59.9619 706.948 59.2935 704.466 Q58.5933 701.951 57.2247 699.469 L62.6355 699.469 Q63.7814 701.919 64.3543 704.561 Q64.9272 707.171 64.9272 710.131 Q64.9272 718.184 59.8664 722.926 Q54.8057 727.669 46.212 727.669 Q37.491 727.669 32.4939 722.894 Q27.4968 718.088 27.4968 709.749 Q27.4968 707.044 28.0697 704.466 Q28.6108 701.887 29.7248 699.469 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M44.7161 658.792 L47.5806 658.792 L47.5806 685.719 Q53.6281 685.337 56.8109 682.09 Q59.9619 678.812 59.9619 672.987 Q59.9619 669.613 59.1344 666.462 Q58.3069 663.279 56.6518 660.16 L62.1899 660.16 Q63.5267 663.311 64.227 666.621 Q64.9272 669.932 64.9272 673.337 Q64.9272 681.867 59.9619 686.864 Q54.9967 691.83 46.5303 691.83 Q37.7774 691.83 32.6531 687.119 Q27.4968 682.377 27.4968 674.356 Q27.4968 667.163 32.1438 662.993 Q36.7589 658.792 44.7161 658.792 M42.9973 664.648 Q38.1912 664.712 35.3266 667.354 Q32.4621 669.963 32.4621 674.292 Q32.4621 679.194 35.2312 682.154 Q38.0002 685.082 43.0292 685.528 L42.9973 664.648 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip402)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="265.903,1384.24 286.368,1378.85 306.834,1373.28 327.299,1367.53 347.765,1361.61 368.23,1355.5 388.695,1349.22 409.161,1342.76 429.626,1336.13 450.091,1329.32 470.557,1322.34 491.022,1315.19 511.487,1307.87 531.953,1300.38 552.418,1292.72 572.884,1284.89 593.349,1276.9 613.814,1268.74 634.28,1260.42 654.745,1251.93 675.21,1243.28 695.676,1234.47 716.141,1225.5 736.606,1216.36 757.072,1207.07 777.537,1197.61 798.002,1188 818.468,1178.23 838.933,1168.3 859.399,1158.22 879.864,1147.97 900.329,1137.57 920.795,1127.02 941.26,1116.31 961.725,1105.45 982.191,1094.43 1002.66,1083.26 1023.12,1071.94 1043.59,1060.47 1064.05,1048.84 1084.52,1037.06 1104.98,1025.13 1125.45,1013.05 1145.91,1000.82 1166.38,988.438 1186.84,975.908 1207.31,963.229 1227.78,950.4 1248.24,937.424 1268.71,924.299 1289.17,911.027 1309.64,897.608 1330.1,884.041 1350.57,870.328 1371.03,856.468 1391.5,842.462 1411.96,828.311 1432.43,814.014 1452.89,799.572 1473.36,784.986 1493.82,770.255 1514.29,755.379 1534.76,740.36 1555.22,725.197 1575.69,709.89 1596.15,694.441 1616.62,678.848 1637.08,663.113 1657.55,647.236 1678.01,631.217 1698.48,615.056 1718.94,598.754 1739.41,582.31 1759.87,565.725 1780.34,549 1800.81,532.134 1821.27,515.128 1841.74,497.982 1862.2,480.697 1882.67,463.273 1903.13,445.71 1923.6,428.008 1944.06,410.168 1964.53,392.19 1984.99,374.075 2005.46,355.823 2025.92,337.435 2046.39,318.91 2066.85,300.249 2087.32,281.453 2107.79,262.522 2128.25,243.458 2148.72,224.259 2169.18,204.927 2189.65,185.464 2210.11,165.868 2230.58,146.142 2251.04,126.285 2271.51,106.3 2291.97,86.1857 "/>
<path clip-path="url(#clip400)" d="M276.709 198.901 L621.678 198.901 L621.678 93.1086 L276.709 93.1086  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip400)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="276.709,198.901 621.678,198.901 621.678,93.1086 276.709,93.1086 276.709,198.901 "/>
<polyline clip-path="url(#clip400)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="300.571,146.005 443.747,146.005 "/>
<path clip-path="url(#clip400)" d="M492.672 147.04 Q492.672 150.459 490.938 153.762 Q489.229 157.064 486.535 159.102 Q483.841 161.116 481.101 161.116 Q479.461 161.116 478.361 160.226 Q477.283 159.313 476.698 158.025 Q476.253 159.617 475.292 163.435 Q474.332 167.253 474.332 167.628 Q474.332 167.839 474.379 167.932 Q474.426 168.026 474.636 168.143 Q474.847 168.284 475.363 168.331 Q475.878 168.401 476.744 168.401 Q477.189 168.401 477.353 168.401 Q477.541 168.424 477.705 168.541 Q477.892 168.659 477.892 168.916 Q477.892 169.876 477.026 169.876 Q476.253 169.876 474.66 169.806 Q473.067 169.736 472.271 169.736 Q471.592 169.736 470.233 169.806 Q468.875 169.876 468.242 169.876 Q467.61 169.876 467.61 169.314 Q467.61 168.986 467.703 168.776 Q467.774 168.588 467.961 168.495 Q468.148 168.424 468.312 168.401 Q468.453 168.401 468.734 168.401 Q469.811 168.401 470.28 168.213 Q470.748 168.05 470.912 167.698 Q471.1 167.37 471.31 166.433 L476.698 145.072 Q477.026 143.643 477.026 142.636 Q477.026 141.371 476.627 140.903 Q476.229 140.434 475.526 140.434 Q474.309 140.434 473.512 141.887 Q472.716 143.339 472.037 146.15 Q471.826 146.922 471.685 147.086 Q471.568 147.25 471.217 147.25 Q470.631 147.227 470.631 146.759 Q470.631 146.641 470.819 145.892 Q471.006 145.119 471.357 143.995 Q471.732 142.847 472.13 142.121 Q472.364 141.629 472.575 141.301 Q472.786 140.973 473.208 140.458 Q473.653 139.943 474.285 139.662 Q474.917 139.38 475.69 139.38 Q477.189 139.38 478.431 140.271 Q479.672 141.161 480 142.964 Q481.335 141.395 482.975 140.388 Q484.614 139.38 486.277 139.38 Q489.041 139.38 490.845 141.535 Q492.672 143.667 492.672 147.04 M489.205 144.932 Q489.205 142.8 488.385 141.629 Q487.589 140.434 486.137 140.434 Q484.333 140.434 482.249 142.261 Q480.188 143.995 479.766 145.611 L477.4 155.003 L477.26 155.776 Q477.26 155.917 477.33 156.338 Q477.424 156.736 477.681 157.392 Q477.962 158.048 478.337 158.634 Q478.735 159.196 479.438 159.617 Q480.164 160.039 481.054 160.039 Q482.483 160.039 484.029 158.774 Q485.598 157.509 486.769 155.12 Q487.495 153.574 488.339 150.248 Q489.205 146.899 489.205 144.932 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M506.855 129.689 Q506.855 129.115 507.626 128.738 L512.299 126.524 L507.56 124.311 Q506.855 123.983 506.855 123.409 Q506.855 123.081 507.118 122.786 Q507.397 122.475 507.757 122.475 Q508.02 122.475 508.495 122.835 L512.66 125.852 Q512.151 120.31 512.168 120.147 Q512.168 119.819 512.414 119.573 Q512.66 119.31 513.069 119.31 Q513.397 119.31 513.66 119.556 Q513.938 119.786 513.938 120.147 L513.447 125.852 L517.168 123.098 Q518.037 122.458 518.349 122.475 Q518.726 122.475 518.988 122.77 Q519.251 123.065 519.251 123.409 Q519.251 123.983 518.48 124.344 L513.807 126.557 L518.546 128.787 Q519.251 129.115 519.251 129.689 Q519.251 130.017 518.972 130.328 Q518.71 130.623 518.349 130.623 Q518.152 130.623 517.808 130.427 Q517.742 130.394 517.037 129.869 Q516.332 129.345 515.234 128.541 Q514.152 127.738 513.447 127.229 Q513.955 132.771 513.938 132.935 Q513.938 133.263 513.692 133.525 Q513.447 133.788 513.037 133.788 Q512.709 133.788 512.43 133.558 Q512.168 133.312 512.168 132.935 L512.66 127.229 L507.97 130.623 Q507.462 130.623 507.183 130.377 Q506.921 130.115 506.888 129.968 Q506.855 129.82 506.855 129.689 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M537.914 148.585 Q537.914 140.481 540.935 133.946 Q542.223 131.206 544.027 128.911 Q545.831 126.615 547.025 125.608 Q548.22 124.601 548.548 124.601 Q549.016 124.601 549.039 125.069 Q549.039 125.304 548.407 125.889 Q540.678 133.759 540.701 148.585 Q540.701 163.459 548.22 171.024 Q549.039 171.844 549.039 172.102 Q549.039 172.57 548.548 172.57 Q548.22 172.57 547.072 171.61 Q545.924 170.649 544.144 168.448 Q542.364 166.246 541.076 163.552 Q537.914 157.018 537.914 148.585 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M574.816 141.207 Q574.816 141.535 574.605 142.308 L570.014 160.625 Q569.007 164.7 565.728 167.558 Q562.472 170.415 558.771 170.415 Q556.546 170.415 555.117 169.221 Q553.688 168.05 553.688 166.246 Q553.688 164.653 554.532 163.88 Q555.375 163.131 556.382 163.131 Q556.71 163.131 557.061 163.225 Q557.413 163.318 557.787 163.716 Q558.162 164.115 558.162 164.794 Q558.162 165.895 557.202 166.761 Q556.733 167.159 556.288 167.253 Q555.867 167.347 555.141 167.347 Q555.422 168.003 555.937 168.448 Q556.452 168.893 557.038 169.057 Q557.623 169.244 557.998 169.291 Q558.396 169.361 558.771 169.361 Q561.769 169.361 564.065 166.34 Q564.744 165.426 565.236 164.513 Q565.751 163.623 566.126 162.522 Q566.501 161.444 566.664 160.859 Q566.852 160.273 567.18 158.938 Q565.002 161.116 562.331 161.116 Q561.207 161.116 560.2 160.812 Q559.216 160.508 558.35 159.875 Q557.483 159.219 556.968 158.072 Q556.476 156.924 556.476 155.401 Q556.476 153.785 557.108 151.584 Q557.741 149.382 559.263 145.33 Q560.083 143.058 560.083 141.957 Q560.083 141.418 559.966 141.09 Q559.849 140.739 559.614 140.622 Q559.38 140.481 559.24 140.458 Q559.122 140.434 558.888 140.434 Q557.506 140.434 556.218 141.84 Q554.93 143.245 554.04 146.384 Q553.852 146.969 553.735 147.11 Q553.618 147.25 553.267 147.25 Q552.681 147.227 552.681 146.759 Q552.681 146.571 552.892 145.845 Q553.103 145.096 553.595 143.995 Q554.11 142.87 554.813 141.863 Q555.515 140.833 556.616 140.107 Q557.741 139.38 559.029 139.38 Q560.785 139.38 561.863 140.528 Q562.964 141.652 562.964 143.315 Q562.964 143.995 562.776 144.604 Q562.612 145.189 562.003 146.759 Q559.544 153.083 559.544 156.174 Q559.544 156.924 559.661 157.556 Q559.802 158.165 560.106 158.774 Q560.411 159.36 561.02 159.711 Q561.652 160.039 562.519 160.039 Q563.62 160.039 564.65 159.524 Q565.704 158.985 566.36 158.259 Q567.039 157.533 567.437 156.924 Q567.859 156.291 567.953 155.964 L570.108 147.344 L571.068 143.503 Q571.513 141.418 571.724 140.903 Q572.005 140.411 572.497 140.153 Q572.989 139.896 573.41 139.896 Q573.996 139.896 574.394 140.247 Q574.816 140.598 574.816 141.207 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip400)" d="M579.4 172.102 Q579.4 171.867 580.009 171.282 Q587.739 163.412 587.739 148.585 Q587.739 133.712 580.314 126.194 Q579.4 125.327 579.4 125.069 Q579.4 124.601 579.869 124.601 Q580.197 124.601 581.344 125.561 Q582.515 126.522 584.272 128.723 Q586.052 130.925 587.364 133.619 Q590.526 140.153 590.526 148.585 Q590.526 156.69 587.504 163.225 Q586.216 165.965 584.413 168.26 Q582.609 170.556 581.415 171.563 Q580.22 172.57 579.869 172.57 Q579.4 172.57 579.4 172.102 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
</div></div>
</div>
<p>The price is increasing, even if we remove all serial correlation from the endowment process.</p>
<p>The reason is that a larger current endowment reduces current marginal
utility.</p>
<p>The price must therefore rise to induce the household to consume the entire endowment (and hence satisfy the resource constraint).</p>
<p>What happens with a more patient consumer?</p>
<p>Here the orange line corresponds to the previous parameters and the green line is price when <span class="math notranslate nohighlight">\(\beta = 0.98\)</span>.</p>
<figure class="align-default" id="mass-lt-cb">
<a class="reference internal image-reference" href="../_images/solution_mass_ex2.png"><img alt="../_images/solution_mass_ex2.png" src="../_images/solution_mass_ex2.png" style="width: 80%;" /></a>
</figure>
<p>We see that when consumers are more patient the asset becomes more valuable, and the price of the Lucas tree shifts up.</p>
<p>Exercise 1 asks you to replicate this figure.</p>
</section>
</section>
<section id="exercises">
<h2><a class="toc-backref" href="#id5" role="doc-backlink"><span class="section-number">51.3. </span>Exercises</a><a class="headerlink" href="#exercises" title="Permalink to this heading">#</a></h2>
<section id="exercise-1">
<span id="lucas-asset-ex1"></span><h3><span class="section-number">51.3.1. </span>Exercise 1<a class="headerlink" href="#exercise-1" title="Permalink to this heading">#</a></h3>
<p>Replicate <a class="reference internal" href="#mass-lt-cb"><span class="std std-ref">the figure</span></a> to show how discount rates affect prices.</p>
</section>
</section>
<section id="solutions">
<h2><a class="toc-backref" href="#id6" role="doc-backlink"><span class="section-number">51.4. </span>Solutions</a><a class="headerlink" href="#solutions" title="Permalink to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-julia notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">()</span>
<span class="k">for</span><span class="w"> </span><span class="n">β</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="mf">.95</span><span class="p">,</span><span class="w"> </span><span class="mf">0.98</span><span class="p">)</span>
<span class="w">    </span><span class="n">tree</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LucasTree</span><span class="p">(;</span><span class="n">β</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">β</span><span class="p">)</span>
<span class="w">    </span><span class="n">grid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tree</span><span class="o">.</span><span class="n">grid</span>
<span class="w">    </span><span class="n">price_vals</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">solve_lucas_model</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="w">    </span><span class="n">plot!</span><span class="p">(</span><span class="n">grid</span><span class="p">,</span><span class="w"> </span><span class="n">price_vals</span><span class="p">,</span><span class="w"> </span><span class="n">lw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;</span><span class="se">\b</span><span class="s">eta = %</span><span class="si">$β</span><span class="s">&quot;</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">plot!</span><span class="p">(</span><span class="n">xlabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sa">L</span><span class="s">&quot;y&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">ylabel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;price&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">legend</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ss">:topleft</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip490">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip490)" d="M0 1600 L2400 1600 L2400 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip491">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<defs>
  <clipPath id="clip492">
    <rect x="234" y="47" width="2120" height="1377"/>
  </clipPath>
</defs>
<path clip-path="url(#clip490)" d="M234.125 1423.18 L2352.76 1423.18 L2352.76 47.2441 L234.125 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="389.604,1423.18 389.604,47.2441 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="864.587,1423.18 864.587,47.2441 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1339.57,1423.18 1339.57,47.2441 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1814.55,1423.18 1814.55,47.2441 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2289.53,1423.18 2289.53,47.2441 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,1423.18 2352.76,1423.18 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="389.604,1423.18 389.604,1404.28 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="864.587,1423.18 864.587,1404.28 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1339.57,1423.18 1339.57,1404.28 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1814.55,1423.18 1814.55,1404.28 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2289.53,1423.18 2289.53,1404.28 "/>
<path clip-path="url(#clip490)" d="M367.486 1454.1 Q363.875 1454.1 362.046 1457.66 Q360.241 1461.2 360.241 1468.33 Q360.241 1475.44 362.046 1479.01 Q363.875 1482.55 367.486 1482.55 Q371.121 1482.55 372.926 1479.01 Q374.755 1475.44 374.755 1468.33 Q374.755 1461.2 372.926 1457.66 Q371.121 1454.1 367.486 1454.1 M367.486 1450.39 Q373.296 1450.39 376.352 1455 Q379.431 1459.58 379.431 1468.33 Q379.431 1477.06 376.352 1481.67 Q373.296 1486.25 367.486 1486.25 Q361.676 1486.25 358.597 1481.67 Q355.542 1477.06 355.542 1468.33 Q355.542 1459.58 358.597 1455 Q361.676 1450.39 367.486 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M387.648 1479.7 L392.532 1479.7 L392.532 1485.58 L387.648 1485.58 L387.648 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M402.764 1451.02 L421.12 1451.02 L421.12 1454.96 L407.046 1454.96 L407.046 1463.43 Q408.065 1463.08 409.083 1462.92 Q410.102 1462.73 411.12 1462.73 Q416.907 1462.73 420.287 1465.9 Q423.667 1469.08 423.667 1474.49 Q423.667 1480.07 420.194 1483.17 Q416.722 1486.25 410.403 1486.25 Q408.227 1486.25 405.958 1485.88 Q403.713 1485.51 401.306 1484.77 L401.306 1480.07 Q403.389 1481.2 405.611 1481.76 Q407.833 1482.32 410.31 1482.32 Q414.315 1482.32 416.653 1480.21 Q418.991 1478.1 418.991 1474.49 Q418.991 1470.88 416.653 1468.77 Q414.315 1466.67 410.31 1466.67 Q408.435 1466.67 406.56 1467.08 Q404.708 1467.5 402.764 1468.38 L402.764 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M831.74 1481.64 L839.378 1481.64 L839.378 1455.28 L831.068 1456.95 L831.068 1452.69 L839.332 1451.02 L844.008 1451.02 L844.008 1481.64 L851.647 1481.64 L851.647 1485.58 L831.74 1485.58 L831.74 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M861.091 1479.7 L865.975 1479.7 L865.975 1485.58 L861.091 1485.58 L861.091 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M886.161 1454.1 Q882.549 1454.1 880.721 1457.66 Q878.915 1461.2 878.915 1468.33 Q878.915 1475.44 880.721 1479.01 Q882.549 1482.55 886.161 1482.55 Q889.795 1482.55 891.6 1479.01 Q893.429 1475.44 893.429 1468.33 Q893.429 1461.2 891.6 1457.66 Q889.795 1454.1 886.161 1454.1 M886.161 1450.39 Q891.971 1450.39 895.026 1455 Q898.105 1459.58 898.105 1468.33 Q898.105 1477.06 895.026 1481.67 Q891.971 1486.25 886.161 1486.25 Q880.35 1486.25 877.272 1481.67 Q874.216 1477.06 874.216 1468.33 Q874.216 1459.58 877.272 1455 Q880.35 1450.39 886.161 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1307.22 1481.64 L1314.86 1481.64 L1314.86 1455.28 L1306.55 1456.95 L1306.55 1452.69 L1314.81 1451.02 L1319.49 1451.02 L1319.49 1481.64 L1327.13 1481.64 L1327.13 1485.58 L1307.22 1485.58 L1307.22 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1336.57 1479.7 L1341.46 1479.7 L1341.46 1485.58 L1336.57 1485.58 L1336.57 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1351.69 1451.02 L1370.04 1451.02 L1370.04 1454.96 L1355.97 1454.96 L1355.97 1463.43 Q1356.99 1463.08 1358.01 1462.92 Q1359.02 1462.73 1360.04 1462.73 Q1365.83 1462.73 1369.21 1465.9 Q1372.59 1469.08 1372.59 1474.49 Q1372.59 1480.07 1369.12 1483.17 Q1365.65 1486.25 1359.33 1486.25 Q1357.15 1486.25 1354.88 1485.88 Q1352.64 1485.51 1350.23 1484.77 L1350.23 1480.07 Q1352.31 1481.2 1354.53 1481.76 Q1356.76 1482.32 1359.23 1482.32 Q1363.24 1482.32 1365.58 1480.21 Q1367.91 1478.1 1367.91 1474.49 Q1367.91 1470.88 1365.58 1468.77 Q1363.24 1466.67 1359.23 1466.67 Q1357.36 1466.67 1355.48 1467.08 Q1353.63 1467.5 1351.69 1468.38 L1351.69 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1785.79 1481.64 L1802.11 1481.64 L1802.11 1485.58 L1780.16 1485.58 L1780.16 1481.64 Q1782.83 1478.89 1787.41 1474.26 Q1792.02 1469.61 1793.2 1468.27 Q1795.44 1465.74 1796.32 1464.01 Q1797.22 1462.25 1797.22 1460.56 Q1797.22 1457.8 1795.28 1456.07 Q1793.36 1454.33 1790.26 1454.33 Q1788.06 1454.33 1785.6 1455.09 Q1783.17 1455.86 1780.4 1457.41 L1780.4 1452.69 Q1783.22 1451.55 1785.67 1450.97 Q1788.13 1450.39 1790.16 1450.39 Q1795.54 1450.39 1798.73 1453.08 Q1801.92 1455.77 1801.92 1460.26 Q1801.92 1462.39 1801.11 1464.31 Q1800.33 1466.2 1798.22 1468.8 Q1797.64 1469.47 1794.54 1472.69 Q1791.44 1475.88 1785.79 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1811.92 1479.7 L1816.81 1479.7 L1816.81 1485.58 L1811.92 1485.58 L1811.92 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1836.99 1454.1 Q1833.38 1454.1 1831.55 1457.66 Q1829.75 1461.2 1829.75 1468.33 Q1829.75 1475.44 1831.55 1479.01 Q1833.38 1482.55 1836.99 1482.55 Q1840.63 1482.55 1842.43 1479.01 Q1844.26 1475.44 1844.26 1468.33 Q1844.26 1461.2 1842.43 1457.66 Q1840.63 1454.1 1836.99 1454.1 M1836.99 1450.39 Q1842.8 1450.39 1845.86 1455 Q1848.94 1459.58 1848.94 1468.33 Q1848.94 1477.06 1845.86 1481.67 Q1842.8 1486.25 1836.99 1486.25 Q1831.18 1486.25 1828.1 1481.67 Q1825.05 1477.06 1825.05 1468.33 Q1825.05 1459.58 1828.1 1455 Q1831.18 1450.39 1836.99 1450.39 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M2261.27 1481.64 L2277.59 1481.64 L2277.59 1485.58 L2255.64 1485.58 L2255.64 1481.64 Q2258.31 1478.89 2262.89 1474.26 Q2267.5 1469.61 2268.68 1468.27 Q2270.92 1465.74 2271.8 1464.01 Q2272.7 1462.25 2272.7 1460.56 Q2272.7 1457.8 2270.76 1456.07 Q2268.84 1454.33 2265.74 1454.33 Q2263.54 1454.33 2261.08 1455.09 Q2258.65 1455.86 2255.88 1457.41 L2255.88 1452.69 Q2258.7 1451.55 2261.15 1450.97 Q2263.61 1450.39 2265.64 1450.39 Q2271.02 1450.39 2274.21 1453.08 Q2277.4 1455.77 2277.4 1460.26 Q2277.4 1462.39 2276.59 1464.31 Q2275.81 1466.2 2273.7 1468.8 Q2273.12 1469.47 2270.02 1472.69 Q2266.92 1475.88 2261.27 1481.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M2287.4 1479.7 L2292.29 1479.7 L2292.29 1485.58 L2287.4 1485.58 L2287.4 1479.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M2302.52 1451.02 L2320.88 1451.02 L2320.88 1454.96 L2306.8 1454.96 L2306.8 1463.43 Q2307.82 1463.08 2308.84 1462.92 Q2309.86 1462.73 2310.88 1462.73 Q2316.66 1462.73 2320.04 1465.9 Q2323.42 1469.08 2323.42 1474.49 Q2323.42 1480.07 2319.95 1483.17 Q2316.48 1486.25 2310.16 1486.25 Q2307.98 1486.25 2305.71 1485.88 Q2303.47 1485.51 2301.06 1484.77 L2301.06 1480.07 Q2303.14 1481.2 2305.37 1481.76 Q2307.59 1482.32 2310.07 1482.32 Q2314.07 1482.32 2316.41 1480.21 Q2318.75 1478.1 2318.75 1474.49 Q2318.75 1470.88 2316.41 1468.77 Q2314.07 1466.67 2310.07 1466.67 Q2308.19 1466.67 2306.32 1467.08 Q2304.46 1467.5 2302.52 1468.38 L2302.52 1451.02 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M1307.88 1520.64 Q1307.88 1521.09 1307.59 1522.15 L1301.28 1547.34 Q1299.89 1552.94 1295.38 1556.87 Q1290.91 1560.8 1285.82 1560.8 Q1282.76 1560.8 1280.79 1559.16 Q1278.83 1557.55 1278.83 1555.07 Q1278.83 1552.88 1279.99 1551.82 Q1281.15 1550.78 1282.53 1550.78 Q1282.98 1550.78 1283.47 1550.91 Q1283.95 1551.04 1284.46 1551.59 Q1284.98 1552.14 1284.98 1553.07 Q1284.98 1554.58 1283.66 1555.78 Q1283.02 1556.32 1282.4 1556.45 Q1281.82 1556.58 1280.83 1556.58 Q1281.21 1557.48 1281.92 1558.1 Q1282.63 1558.71 1283.43 1558.93 Q1284.24 1559.19 1284.75 1559.25 Q1285.3 1559.35 1285.82 1559.35 Q1289.94 1559.35 1293.1 1555.2 Q1294.03 1553.94 1294.71 1552.68 Q1295.41 1551.46 1295.93 1549.95 Q1296.45 1548.47 1296.67 1547.66 Q1296.93 1546.86 1297.38 1545.02 Q1294.38 1548.01 1290.71 1548.01 Q1289.17 1548.01 1287.78 1547.6 Q1286.43 1547.18 1285.24 1546.31 Q1284.05 1545.41 1283.34 1543.83 Q1282.66 1542.25 1282.66 1540.16 Q1282.66 1537.93 1283.53 1534.91 Q1284.4 1531.88 1286.49 1526.31 Q1287.62 1523.18 1287.62 1521.67 Q1287.62 1520.93 1287.46 1520.48 Q1287.3 1520 1286.98 1519.83 Q1286.65 1519.64 1286.46 1519.61 Q1286.3 1519.58 1285.98 1519.58 Q1284.08 1519.58 1282.31 1521.51 Q1280.54 1523.44 1279.31 1527.76 Q1279.05 1528.56 1278.89 1528.76 Q1278.73 1528.95 1278.25 1528.95 Q1277.44 1528.92 1277.44 1528.27 Q1277.44 1528.01 1277.73 1527.02 Q1278.02 1525.99 1278.7 1524.47 Q1279.41 1522.93 1280.37 1521.54 Q1281.34 1520.12 1282.85 1519.13 Q1284.4 1518.13 1286.17 1518.13 Q1288.59 1518.13 1290.07 1519.71 Q1291.58 1521.25 1291.58 1523.54 Q1291.58 1524.47 1291.32 1525.31 Q1291.1 1526.11 1290.26 1528.27 Q1286.88 1536.97 1286.88 1541.22 Q1286.88 1542.25 1287.04 1543.12 Q1287.23 1543.96 1287.65 1544.79 Q1288.07 1545.6 1288.91 1546.08 Q1289.78 1546.53 1290.97 1546.53 Q1292.48 1546.53 1293.9 1545.82 Q1295.35 1545.08 1296.25 1544.09 Q1297.19 1543.09 1297.73 1542.25 Q1298.31 1541.38 1298.44 1540.93 L1301.4 1529.08 L1302.73 1523.8 Q1303.34 1520.93 1303.63 1520.22 Q1304.01 1519.54 1304.69 1519.19 Q1305.37 1518.84 1305.95 1518.84 Q1306.75 1518.84 1307.3 1519.32 Q1307.88 1519.8 1307.88 1520.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,1405.18 2352.76,1405.18 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,1151.73 2352.76,1151.73 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,898.274 2352.76,898.274 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,644.822 2352.76,644.822 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,391.37 2352.76,391.37 "/>
<polyline clip-path="url(#clip492)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="234.125,137.918 2352.76,137.918 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,1423.18 234.125,47.2441 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,1405.18 253.023,1405.18 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,1151.73 253.023,1151.73 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,898.274 253.023,898.274 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,644.822 253.023,644.822 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,391.37 253.023,391.37 "/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="234.125,137.918 253.023,137.918 "/>
<path clip-path="url(#clip490)" d="M186.181 1390.98 Q182.57 1390.98 180.741 1394.54 Q178.936 1398.08 178.936 1405.21 Q178.936 1412.32 180.741 1415.88 Q182.57 1419.43 186.181 1419.43 Q189.815 1419.43 191.621 1415.88 Q193.45 1412.32 193.45 1405.21 Q193.45 1398.08 191.621 1394.54 Q189.815 1390.98 186.181 1390.98 M186.181 1387.27 Q191.991 1387.27 195.047 1391.88 Q198.125 1396.46 198.125 1405.21 Q198.125 1413.94 195.047 1418.55 Q191.991 1423.13 186.181 1423.13 Q180.371 1423.13 177.292 1418.55 Q174.237 1413.94 174.237 1405.21 Q174.237 1396.46 177.292 1391.88 Q180.371 1387.27 186.181 1387.27 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M146.066 1134.45 L164.422 1134.45 L164.422 1138.38 L150.348 1138.38 L150.348 1146.85 Q151.366 1146.51 152.385 1146.34 Q153.403 1146.16 154.422 1146.16 Q160.209 1146.16 163.589 1149.33 Q166.968 1152.5 166.968 1157.92 Q166.968 1163.5 163.496 1166.6 Q160.024 1169.68 153.704 1169.68 Q151.528 1169.68 149.26 1169.31 Q147.015 1168.94 144.607 1168.2 L144.607 1163.5 Q146.691 1164.63 148.913 1165.19 Q151.135 1165.74 153.612 1165.74 Q157.616 1165.74 159.954 1163.64 Q162.292 1161.53 162.292 1157.92 Q162.292 1154.31 159.954 1152.2 Q157.616 1150.09 153.612 1150.09 Q151.737 1150.09 149.862 1150.51 Q148.01 1150.93 146.066 1151.81 L146.066 1134.45 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M186.181 1137.52 Q182.57 1137.52 180.741 1141.09 Q178.936 1144.63 178.936 1151.76 Q178.936 1158.87 180.741 1162.43 Q182.57 1165.97 186.181 1165.97 Q189.815 1165.97 191.621 1162.43 Q193.45 1158.87 193.45 1151.76 Q193.45 1144.63 191.621 1141.09 Q189.815 1137.52 186.181 1137.52 M186.181 1133.82 Q191.991 1133.82 195.047 1138.43 Q198.125 1143.01 198.125 1151.76 Q198.125 1160.49 195.047 1165.09 Q191.991 1169.68 186.181 1169.68 Q180.371 1169.68 177.292 1165.09 Q174.237 1160.49 174.237 1151.76 Q174.237 1143.01 177.292 1138.43 Q180.371 1133.82 186.181 1133.82 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M116.668 911.619 L124.306 911.619 L124.306 885.253 L115.996 886.92 L115.996 882.661 L124.26 880.994 L128.936 880.994 L128.936 911.619 L136.575 911.619 L136.575 915.554 L116.668 915.554 L116.668 911.619 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M156.019 884.073 Q152.408 884.073 150.579 887.637 Q148.774 891.179 148.774 898.309 Q148.774 905.415 150.579 908.98 Q152.408 912.521 156.019 912.521 Q159.653 912.521 161.459 908.98 Q163.288 905.415 163.288 898.309 Q163.288 891.179 161.459 887.637 Q159.653 884.073 156.019 884.073 M156.019 880.369 Q161.829 880.369 164.885 884.975 Q167.964 889.559 167.964 898.309 Q167.964 907.035 164.885 911.642 Q161.829 916.225 156.019 916.225 Q150.209 916.225 147.13 911.642 Q144.075 907.035 144.075 898.309 Q144.075 889.559 147.13 884.975 Q150.209 880.369 156.019 880.369 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M186.181 884.073 Q182.57 884.073 180.741 887.637 Q178.936 891.179 178.936 898.309 Q178.936 905.415 180.741 908.98 Q182.57 912.521 186.181 912.521 Q189.815 912.521 191.621 908.98 Q193.45 905.415 193.45 898.309 Q193.45 891.179 191.621 887.637 Q189.815 884.073 186.181 884.073 M186.181 880.369 Q191.991 880.369 195.047 884.975 Q198.125 889.559 198.125 898.309 Q198.125 907.035 195.047 911.642 Q191.991 916.225 186.181 916.225 Q180.371 916.225 177.292 911.642 Q174.237 907.035 174.237 898.309 Q174.237 889.559 177.292 884.975 Q180.371 880.369 186.181 880.369 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M116.668 658.167 L124.306 658.167 L124.306 631.801 L115.996 633.468 L115.996 629.209 L124.26 627.542 L128.936 627.542 L128.936 658.167 L136.575 658.167 L136.575 662.102 L116.668 662.102 L116.668 658.167 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M146.066 627.542 L164.422 627.542 L164.422 631.477 L150.348 631.477 L150.348 639.949 Q151.366 639.602 152.385 639.44 Q153.403 639.255 154.422 639.255 Q160.209 639.255 163.589 642.426 Q166.968 645.597 166.968 651.014 Q166.968 656.593 163.496 659.694 Q160.024 662.773 153.704 662.773 Q151.528 662.773 149.26 662.403 Q147.015 662.032 144.607 661.292 L144.607 656.593 Q146.691 657.727 148.913 658.282 Q151.135 658.838 153.612 658.838 Q157.616 658.838 159.954 656.732 Q162.292 654.625 162.292 651.014 Q162.292 647.403 159.954 645.296 Q157.616 643.19 153.612 643.19 Q151.737 643.19 149.862 643.607 Q148.01 644.023 146.066 644.903 L146.066 627.542 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M186.181 630.621 Q182.57 630.621 180.741 634.185 Q178.936 637.727 178.936 644.857 Q178.936 651.963 180.741 655.528 Q182.57 659.069 186.181 659.069 Q189.815 659.069 191.621 655.528 Q193.45 651.963 193.45 644.857 Q193.45 637.727 191.621 634.185 Q189.815 630.621 186.181 630.621 M186.181 626.917 Q191.991 626.917 195.047 631.523 Q198.125 636.107 198.125 644.857 Q198.125 653.583 195.047 658.19 Q191.991 662.773 186.181 662.773 Q180.371 662.773 177.292 658.19 Q174.237 653.583 174.237 644.857 Q174.237 636.107 177.292 631.523 Q180.371 626.917 186.181 626.917 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M119.885 404.715 L136.204 404.715 L136.204 408.65 L114.26 408.65 L114.26 404.715 Q116.922 401.96 121.505 397.331 Q126.112 392.678 127.292 391.335 Q129.538 388.812 130.417 387.076 Q131.32 385.317 131.32 383.627 Q131.32 380.872 129.376 379.136 Q127.455 377.4 124.353 377.4 Q122.154 377.4 119.7 378.164 Q117.269 378.928 114.492 380.479 L114.492 375.757 Q117.316 374.622 119.769 374.044 Q122.223 373.465 124.26 373.465 Q129.63 373.465 132.825 376.15 Q136.019 378.835 136.019 383.326 Q136.019 385.456 135.209 387.377 Q134.422 389.275 132.316 391.868 Q131.737 392.539 128.635 395.756 Q125.533 398.951 119.885 404.715 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M156.019 377.169 Q152.408 377.169 150.579 380.733 Q148.774 384.275 148.774 391.405 Q148.774 398.511 150.579 402.076 Q152.408 405.618 156.019 405.618 Q159.653 405.618 161.459 402.076 Q163.288 398.511 163.288 391.405 Q163.288 384.275 161.459 380.733 Q159.653 377.169 156.019 377.169 M156.019 373.465 Q161.829 373.465 164.885 378.071 Q167.964 382.655 167.964 391.405 Q167.964 400.131 164.885 404.738 Q161.829 409.321 156.019 409.321 Q150.209 409.321 147.13 404.738 Q144.075 400.131 144.075 391.405 Q144.075 382.655 147.13 378.071 Q150.209 373.465 156.019 373.465 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M186.181 377.169 Q182.57 377.169 180.741 380.733 Q178.936 384.275 178.936 391.405 Q178.936 398.511 180.741 402.076 Q182.57 405.618 186.181 405.618 Q189.815 405.618 191.621 402.076 Q193.45 398.511 193.45 391.405 Q193.45 384.275 191.621 380.733 Q189.815 377.169 186.181 377.169 M186.181 373.465 Q191.991 373.465 195.047 378.071 Q198.125 382.655 198.125 391.405 Q198.125 400.131 195.047 404.738 Q191.991 409.321 186.181 409.321 Q180.371 409.321 177.292 404.738 Q174.237 400.131 174.237 391.405 Q174.237 382.655 177.292 378.071 Q180.371 373.465 186.181 373.465 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M119.885 151.263 L136.204 151.263 L136.204 155.198 L114.26 155.198 L114.26 151.263 Q116.922 148.508 121.505 143.879 Q126.112 139.226 127.292 137.883 Q129.538 135.36 130.417 133.624 Q131.32 131.865 131.32 130.175 Q131.32 127.42 129.376 125.684 Q127.455 123.948 124.353 123.948 Q122.154 123.948 119.7 124.712 Q117.269 125.476 114.492 127.027 L114.492 122.305 Q117.316 121.17 119.769 120.592 Q122.223 120.013 124.26 120.013 Q129.63 120.013 132.825 122.698 Q136.019 125.383 136.019 129.874 Q136.019 132.004 135.209 133.925 Q134.422 135.823 132.316 138.416 Q131.737 139.087 128.635 142.305 Q125.533 145.499 119.885 151.263 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M146.066 120.638 L164.422 120.638 L164.422 124.573 L150.348 124.573 L150.348 133.045 Q151.366 132.698 152.385 132.536 Q153.403 132.351 154.422 132.351 Q160.209 132.351 163.589 135.522 Q166.968 138.693 166.968 144.11 Q166.968 149.689 163.496 152.791 Q160.024 155.869 153.704 155.869 Q151.528 155.869 149.26 155.499 Q147.015 155.129 144.607 154.388 L144.607 149.689 Q146.691 150.823 148.913 151.379 Q151.135 151.934 153.612 151.934 Q157.616 151.934 159.954 149.828 Q162.292 147.721 162.292 144.11 Q162.292 140.499 159.954 138.393 Q157.616 136.286 153.612 136.286 Q151.737 136.286 149.862 136.703 Q148.01 137.119 146.066 137.999 L146.066 120.638 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M186.181 123.717 Q182.57 123.717 180.741 127.281 Q178.936 130.823 178.936 137.953 Q178.936 145.059 180.741 148.624 Q182.57 152.166 186.181 152.166 Q189.815 152.166 191.621 148.624 Q193.45 145.059 193.45 137.953 Q193.45 130.823 191.621 127.281 Q189.815 123.717 186.181 123.717 M186.181 120.013 Q191.991 120.013 195.047 124.619 Q198.125 129.203 198.125 137.953 Q198.125 146.679 195.047 151.286 Q191.991 155.869 186.181 155.869 Q180.371 155.869 177.292 151.286 Q174.237 146.679 174.237 137.953 Q174.237 129.203 177.292 124.619 Q180.371 120.013 186.181 120.013 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M58.657 805.744 L77.5631 805.744 L77.5631 811.632 L28.3562 811.632 L28.3562 805.744 L33.7671 805.744 Q30.5842 803.898 29.0564 801.097 Q27.4968 798.264 27.4968 794.349 Q27.4968 787.856 32.6531 783.814 Q37.8093 779.74 46.212 779.74 Q54.6147 779.74 59.771 783.814 Q64.9272 787.856 64.9272 794.349 Q64.9272 798.264 63.3994 801.097 Q61.8398 803.898 58.657 805.744 M46.212 785.819 Q39.7508 785.819 36.0905 788.493 Q32.3984 791.135 32.3984 795.782 Q32.3984 800.429 36.0905 803.102 Q39.7508 805.744 46.212 805.744 Q52.6732 805.744 56.3653 803.102 Q60.0256 800.429 60.0256 795.782 Q60.0256 791.135 56.3653 788.493 Q52.6732 785.819 46.212 785.819 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M33.8307 749.376 Q33.2578 750.362 33.0032 751.54 Q32.7167 752.686 32.7167 754.086 Q32.7167 759.052 35.9632 761.725 Q39.1779 764.367 45.2253 764.367 L64.0042 764.367 L64.0042 770.255 L28.3562 770.255 L28.3562 764.367 L33.8944 764.367 Q30.6479 762.521 29.0883 759.561 Q27.4968 756.601 27.4968 752.368 Q27.4968 751.763 27.5923 751.031 Q27.656 750.299 27.8151 749.407 L33.8307 749.376 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M28.3562 743.233 L28.3562 737.376 L64.0042 737.376 L64.0042 743.233 L28.3562 743.233 M14.479 743.233 L14.479 737.376 L21.895 737.376 L21.895 743.233 L14.479 743.233 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M29.7248 699.469 L35.1993 699.469 Q33.8307 701.951 33.1623 704.466 Q32.4621 706.948 32.4621 709.495 Q32.4621 715.192 36.0905 718.343 Q39.6872 721.494 46.212 721.494 Q52.7369 721.494 56.3653 718.343 Q59.9619 715.192 59.9619 709.495 Q59.9619 706.948 59.2935 704.466 Q58.5933 701.951 57.2247 699.469 L62.6355 699.469 Q63.7814 701.919 64.3543 704.561 Q64.9272 707.171 64.9272 710.131 Q64.9272 718.184 59.8664 722.926 Q54.8057 727.669 46.212 727.669 Q37.491 727.669 32.4939 722.894 Q27.4968 718.088 27.4968 709.749 Q27.4968 707.044 28.0697 704.466 Q28.6108 701.887 29.7248 699.469 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M44.7161 658.792 L47.5806 658.792 L47.5806 685.719 Q53.6281 685.337 56.8109 682.09 Q59.9619 678.812 59.9619 672.987 Q59.9619 669.613 59.1344 666.462 Q58.3069 663.279 56.6518 660.16 L62.1899 660.16 Q63.5267 663.311 64.227 666.621 Q64.9272 669.932 64.9272 673.337 Q64.9272 681.867 59.9619 686.864 Q54.9967 691.83 46.5303 691.83 Q37.7774 691.83 32.6531 687.119 Q27.4968 682.377 27.4968 674.356 Q27.4968 667.163 32.1438 662.993 Q36.7589 658.792 44.7161 658.792 M42.9973 664.648 Q38.1912 664.712 35.3266 667.354 Q32.4621 669.963 32.4621 674.292 Q32.4621 679.194 35.2312 682.154 Q38.0002 685.082 43.0292 685.528 L42.9973 664.648 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip492)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="294.087,1384.24 314.276,1382.41 334.465,1380.52 354.654,1378.57 374.843,1376.56 395.032,1374.48 415.221,1372.35 435.409,1370.16 455.598,1367.91 475.787,1365.6 495.976,1363.23 516.165,1360.8 536.354,1358.32 556.543,1355.77 576.732,1353.17 596.921,1350.52 617.11,1347.81 637.299,1345.04 657.488,1342.21 677.677,1339.33 697.866,1336.39 718.055,1333.4 738.244,1330.36 758.433,1327.26 778.622,1324.1 798.811,1320.89 819,1317.63 839.189,1314.31 859.378,1310.94 879.567,1307.52 899.756,1304.04 919.945,1300.51 940.134,1296.93 960.323,1293.3 980.512,1289.61 1000.7,1285.87 1020.89,1282.08 1041.08,1278.24 1061.27,1274.34 1081.46,1270.4 1101.65,1266.4 1121.83,1262.35 1142.02,1258.25 1162.21,1254.1 1182.4,1249.89 1202.59,1245.64 1222.78,1241.34 1242.97,1236.98 1263.16,1232.58 1283.35,1228.12 1303.54,1223.62 1323.72,1219.06 1343.91,1214.46 1364.1,1209.8 1384.29,1205.1 1404.48,1200.35 1424.67,1195.54 1444.86,1190.69 1465.05,1185.79 1485.24,1180.84 1505.42,1175.84 1525.61,1170.79 1545.8,1165.69 1565.99,1160.54 1586.18,1155.35 1606.37,1150.1 1626.56,1144.81 1646.75,1139.47 1666.94,1134.08 1687.13,1128.64 1707.31,1123.16 1727.5,1117.63 1747.69,1112.04 1767.88,1106.41 1788.07,1100.74 1808.26,1095.01 1828.45,1089.24 1848.64,1083.42 1868.83,1077.55 1889.02,1071.64 1909.2,1065.68 1929.39,1059.67 1949.58,1053.61 1969.77,1047.51 1989.96,1041.36 2010.15,1035.17 2030.34,1028.93 2050.53,1022.64 2070.72,1016.31 2090.9,1009.93 2111.09,1003.5 2131.28,997.029 2151.47,990.512 2171.66,983.951 2191.85,977.344 2212.04,970.693 2232.23,963.997 2252.42,957.258 2272.61,950.474 2292.79,943.647 "/>
<polyline clip-path="url(#clip492)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="294.087,1360.2 314.276,1355.83 334.465,1351.28 354.654,1346.55 374.843,1341.64 395.032,1336.54 415.221,1331.25 435.409,1325.79 455.598,1320.14 475.787,1314.31 495.976,1308.3 516.165,1302.11 536.354,1295.74 556.543,1289.19 576.732,1282.47 596.921,1275.56 617.11,1268.47 637.299,1261.21 657.488,1253.77 677.677,1246.16 697.866,1238.37 718.055,1230.4 738.244,1222.26 758.433,1213.94 778.622,1205.45 798.811,1196.78 819,1187.94 839.189,1178.92 859.378,1169.73 879.567,1160.37 899.756,1150.84 919.945,1141.13 940.134,1131.25 960.323,1121.19 980.512,1110.97 1000.7,1100.57 1020.89,1090 1041.08,1079.26 1061.27,1068.35 1081.46,1057.27 1101.65,1046.02 1121.83,1034.6 1142.02,1023 1162.21,1011.24 1182.4,999.308 1202.59,987.206 1222.78,974.934 1242.97,962.492 1263.16,949.882 1283.35,937.103 1303.54,924.155 1323.72,911.038 1343.91,897.753 1364.1,884.3 1384.29,870.678 1404.48,856.889 1424.67,842.932 1444.86,828.807 1465.05,814.515 1485.24,800.055 1505.42,785.429 1525.61,770.635 1545.8,755.674 1565.99,740.547 1586.18,725.253 1606.37,709.793 1626.56,694.166 1646.75,678.373 1666.94,662.414 1687.13,646.289 1707.31,629.999 1727.5,613.542 1747.69,596.921 1767.88,580.133 1788.07,563.181 1808.26,546.063 1828.45,528.781 1848.64,511.334 1868.83,493.722 1889.02,475.945 1909.2,458.005 1929.39,439.9 1949.58,421.631 1969.77,403.198 1989.96,384.602 2010.15,365.842 2030.34,346.919 2050.53,327.833 2070.72,308.584 2090.9,289.173 2111.09,269.599 2131.28,249.863 2151.47,229.966 2171.66,209.907 2191.85,189.687 2212.04,169.306 2232.23,148.765 2252.42,128.065 2272.61,107.205 2292.79,86.1857 "/>
<path clip-path="url(#clip490)" d="M304.746 248.629 L691.686 248.629 L691.686 93.1086 L304.746 93.1086  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip490)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="304.746,248.629 691.686,248.629 691.686,93.1086 304.746,93.1086 304.746,248.629 "/>
<polyline clip-path="url(#clip490)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="328.287,144.949 469.529,144.949 "/>
<path clip-path="url(#clip490)" d="M519.185 129.568 Q519.185 130.177 518.928 131.348 Q518.108 134.651 515.039 136.923 Q514.524 137.344 513.611 137.883 Q514.712 138.609 515.672 139.944 Q517.101 142.146 517.101 145.12 Q517.101 146.502 516.726 148.189 Q515.672 152.1 511.971 154.911 Q508.247 157.651 503.82 157.651 Q501.431 157.651 499.791 156.387 Q498.175 155.098 497.543 152.943 L494.287 166.083 Q494.217 166.411 493.795 166.411 L493.561 166.411 Q493.069 166.411 493.069 165.849 L500.471 136.337 Q500.963 134.346 501.759 132.472 Q502.555 130.598 503.656 128.912 Q504.78 127.226 506.069 125.984 Q507.357 124.719 508.95 123.993 Q510.542 123.244 512.229 123.244 Q515.766 123.244 517.78 125.656 Q519.185 127.366 519.185 129.568 M516.492 128.725 Q516.492 127.272 515.906 126.265 Q514.712 124.345 512.182 124.345 Q510.659 124.345 509.207 125.047 Q507.778 125.727 506.631 126.898 Q505.483 128.069 504.499 129.662 Q503.516 131.254 502.789 132.988 Q502.087 134.697 501.618 136.571 L498.737 148.189 Q498.456 149.43 498.456 150.531 Q498.456 153.154 499.909 154.864 Q501.361 156.574 503.867 156.574 Q507.193 156.574 510.05 154.091 Q512.533 151.866 513.564 147.955 Q514.149 145.495 514.149 143.785 Q514.149 141.912 513.47 140.459 Q512.978 139.288 512.018 138.586 Q510.238 139.218 508.434 139.218 Q507.568 139.218 507.099 139.195 Q506.654 139.171 505.998 139.077 Q505.366 138.984 505.061 138.726 Q504.78 138.468 504.78 138.07 Q504.78 137.836 504.827 137.742 Q504.921 137.368 505.225 137.11 Q505.53 136.852 505.881 136.735 Q506.233 136.595 506.818 136.524 Q507.427 136.454 507.825 136.454 Q508.223 136.431 508.903 136.431 Q510.495 136.431 512.112 137.063 Q512.721 136.735 513.376 136.15 Q515.461 134.206 516.164 131.114 Q516.492 129.966 516.492 128.725 M510.589 137.789 Q509.605 137.532 508.856 137.532 Q506.115 137.532 505.975 137.977 Q505.975 138.023 506.069 138.07 Q506.162 138.094 506.373 138.117 Q506.607 138.117 506.795 138.141 Q507.006 138.164 507.357 138.164 Q507.708 138.164 507.896 138.164 Q508.106 138.164 508.481 138.164 Q509.418 138.164 510.589 137.789 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M533.255 149.828 Q533.302 149.243 534.215 149.243 L563.61 149.243 Q564.992 149.243 565.016 149.781 Q565.016 150.367 563.704 150.344 L534.543 150.344 Q533.255 150.367 533.255 149.828 M533.255 140.459 Q533.255 139.874 534.262 139.897 L563.564 139.897 Q564.992 139.897 565.016 140.459 Q565.016 140.998 563.798 140.998 L534.215 140.998 Q533.255 140.998 533.255 140.459 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M583.507 141.771 Q583.507 134.721 585.287 130.88 Q587.77 125.164 593.625 125.164 Q594.867 125.164 596.155 125.516 Q597.466 125.844 599.106 127.132 Q600.769 128.42 601.776 130.528 Q603.697 134.604 603.697 141.771 Q603.697 148.774 601.917 152.592 Q599.317 158.167 593.578 158.167 Q591.423 158.167 589.222 157.066 Q587.043 155.965 585.662 153.318 Q583.507 149.36 583.507 141.771 M587.489 141.185 Q587.489 148.423 588.004 151.304 Q588.589 154.419 590.182 155.778 Q591.798 157.113 593.578 157.113 Q595.499 157.113 597.092 155.684 Q598.708 154.232 599.2 151.117 Q599.738 148.048 599.715 141.185 Q599.715 134.51 599.247 131.84 Q598.614 128.725 596.928 127.483 Q595.265 126.218 593.578 126.218 Q592.946 126.218 592.267 126.406 Q591.611 126.593 590.651 127.132 Q589.69 127.671 588.941 129.006 Q588.215 130.341 587.863 132.355 Q587.489 134.955 587.489 141.185 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M607.983 156.34 Q607.257 155.567 607.257 154.56 Q607.257 153.552 607.983 152.826 Q608.709 152.077 609.81 152.077 Q610.864 152.077 611.566 152.78 Q612.293 153.459 612.293 154.583 Q612.293 155.684 611.52 156.41 Q610.77 157.113 609.81 157.113 Q608.709 157.113 607.983 156.34 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M620.454 135.962 Q620.454 133.409 621.203 131.676 Q621.953 129.919 623.522 128.186 Q626.403 125.164 630.572 125.164 Q632.352 125.164 633.922 125.914 Q635.514 126.664 637.013 128.373 Q638.536 130.06 639.449 133.409 Q640.363 136.735 640.363 141.326 Q640.363 148.751 636.756 153.459 Q633.172 158.167 628.324 158.167 Q625.255 158.167 623.452 156.785 Q621.648 155.379 621.648 152.99 Q621.648 151.749 622.351 151.234 Q623.054 150.695 623.85 150.695 Q624.717 150.695 625.396 151.28 Q626.075 151.843 626.075 152.897 Q626.075 153.763 625.513 154.443 Q624.974 155.098 623.569 155.098 Q624.951 156.832 628.277 156.832 Q629.471 156.832 630.666 156.293 Q631.86 155.731 633.149 154.396 Q634.46 153.037 635.257 150.203 Q636.053 147.369 636.053 143.387 L636.053 141.865 Q634.132 146.666 630.057 146.666 Q626.028 146.666 623.241 143.575 Q620.454 140.483 620.454 135.962 M624.763 136.009 Q624.763 140.764 625.63 142.52 Q627.106 145.542 630.104 145.542 Q633.032 145.542 634.484 142.942 Q635.959 140.319 635.959 136.923 Q635.959 132.215 635.186 130.153 Q633.758 126.359 630.572 126.359 Q627.41 126.359 625.771 129.381 Q624.763 131.161 624.763 136.009 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M644.396 149.383 Q644.396 147.955 645.169 147.416 Q645.942 146.854 646.761 146.854 Q647.862 146.854 648.495 147.556 Q649.15 148.236 649.15 149.196 Q649.15 150.156 648.495 150.859 Q647.862 151.538 646.761 151.538 Q646.223 151.538 645.942 151.444 Q646.574 153.646 648.495 155.239 Q650.439 156.832 652.992 156.832 Q656.201 156.832 658.121 153.716 Q659.269 151.702 659.269 147.135 Q659.269 143.106 658.402 141.092 Q657.067 138.023 654.327 138.023 Q650.439 138.023 648.143 141.373 Q647.862 141.794 647.534 141.818 Q647.066 141.818 646.949 141.56 Q646.855 141.279 646.855 140.553 L646.855 126.359 Q646.855 125.211 647.324 125.211 Q647.511 125.211 647.909 125.352 Q650.931 126.687 654.28 126.71 Q657.723 126.71 660.815 125.305 Q661.049 125.164 661.19 125.164 Q661.658 125.164 661.681 125.703 Q661.681 125.891 661.283 126.453 Q660.909 126.991 660.089 127.718 Q659.269 128.42 658.215 129.099 Q657.161 129.779 655.615 130.247 Q654.093 130.692 652.406 130.692 Q650.392 130.692 648.331 130.06 L648.331 139.405 Q650.813 136.969 654.421 136.969 Q658.262 136.969 660.909 140.061 Q663.555 143.153 663.555 147.463 Q663.555 151.983 660.417 155.075 Q657.301 158.167 653.085 158.167 Q649.244 158.167 646.808 155.426 Q644.396 152.686 644.396 149.383 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><polyline clip-path="url(#clip490)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:8; stroke-opacity:1; fill:none" points="328.287,196.789 469.529,196.789 "/>
<path clip-path="url(#clip490)" d="M519.185 181.408 Q519.185 182.017 518.928 183.188 Q518.108 186.491 515.039 188.763 Q514.524 189.184 513.611 189.723 Q514.712 190.449 515.672 191.784 Q517.101 193.986 517.101 196.96 Q517.101 198.342 516.726 200.029 Q515.672 203.94 511.971 206.751 Q508.247 209.491 503.82 209.491 Q501.431 209.491 499.791 208.227 Q498.175 206.938 497.543 204.783 L494.287 217.923 Q494.217 218.251 493.795 218.251 L493.561 218.251 Q493.069 218.251 493.069 217.689 L500.471 188.177 Q500.963 186.186 501.759 184.312 Q502.555 182.438 503.656 180.752 Q504.78 179.066 506.069 177.824 Q507.357 176.559 508.95 175.833 Q510.542 175.084 512.229 175.084 Q515.766 175.084 517.78 177.496 Q519.185 179.206 519.185 181.408 M516.492 180.565 Q516.492 179.112 515.906 178.105 Q514.712 176.185 512.182 176.185 Q510.659 176.185 509.207 176.887 Q507.778 177.567 506.631 178.738 Q505.483 179.909 504.499 181.502 Q503.516 183.094 502.789 184.828 Q502.087 186.537 501.618 188.411 L498.737 200.029 Q498.456 201.27 498.456 202.371 Q498.456 204.994 499.909 206.704 Q501.361 208.414 503.867 208.414 Q507.193 208.414 510.05 205.931 Q512.533 203.706 513.564 199.795 Q514.149 197.335 514.149 195.625 Q514.149 193.752 513.47 192.299 Q512.978 191.128 512.018 190.426 Q510.238 191.058 508.434 191.058 Q507.568 191.058 507.099 191.035 Q506.654 191.011 505.998 190.917 Q505.366 190.824 505.061 190.566 Q504.78 190.308 504.78 189.91 Q504.78 189.676 504.827 189.582 Q504.921 189.208 505.225 188.95 Q505.53 188.692 505.881 188.575 Q506.233 188.435 506.818 188.364 Q507.427 188.294 507.825 188.294 Q508.223 188.271 508.903 188.271 Q510.495 188.271 512.112 188.903 Q512.721 188.575 513.376 187.99 Q515.461 186.046 516.164 182.954 Q516.492 181.806 516.492 180.565 M510.589 189.629 Q509.605 189.372 508.856 189.372 Q506.115 189.372 505.975 189.817 Q505.975 189.863 506.069 189.91 Q506.162 189.934 506.373 189.957 Q506.607 189.957 506.795 189.981 Q507.006 190.004 507.357 190.004 Q507.708 190.004 507.896 190.004 Q508.106 190.004 508.481 190.004 Q509.418 190.004 510.589 189.629 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M533.255 201.668 Q533.302 201.083 534.215 201.083 L563.61 201.083 Q564.992 201.083 565.016 201.621 Q565.016 202.207 563.704 202.184 L534.543 202.184 Q533.255 202.207 533.255 201.668 M533.255 192.299 Q533.255 191.714 534.262 191.737 L563.564 191.737 Q564.992 191.737 565.016 192.299 Q565.016 192.838 563.798 192.838 L534.215 192.838 Q533.255 192.838 533.255 192.299 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M583.507 193.611 Q583.507 186.561 585.287 182.72 Q587.77 177.004 593.625 177.004 Q594.867 177.004 596.155 177.356 Q597.466 177.684 599.106 178.972 Q600.769 180.26 601.776 182.368 Q603.697 186.444 603.697 193.611 Q603.697 200.614 601.917 204.432 Q599.317 210.007 593.578 210.007 Q591.423 210.007 589.222 208.906 Q587.043 207.805 585.662 205.158 Q583.507 201.2 583.507 193.611 M587.489 193.025 Q587.489 200.263 588.004 203.144 Q588.589 206.259 590.182 207.618 Q591.798 208.953 593.578 208.953 Q595.499 208.953 597.092 207.524 Q598.708 206.072 599.2 202.957 Q599.738 199.888 599.715 193.025 Q599.715 186.35 599.247 183.68 Q598.614 180.565 596.928 179.323 Q595.265 178.058 593.578 178.058 Q592.946 178.058 592.267 178.246 Q591.611 178.433 590.651 178.972 Q589.69 179.511 588.941 180.846 Q588.215 182.181 587.863 184.195 Q587.489 186.795 587.489 193.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M607.983 208.18 Q607.257 207.407 607.257 206.4 Q607.257 205.392 607.983 204.666 Q608.709 203.917 609.81 203.917 Q610.864 203.917 611.566 204.62 Q612.293 205.299 612.293 206.423 Q612.293 207.524 611.52 208.25 Q610.77 208.953 609.81 208.953 Q608.709 208.953 607.983 208.18 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M620.454 187.802 Q620.454 185.249 621.203 183.516 Q621.953 181.759 623.522 180.026 Q626.403 177.004 630.572 177.004 Q632.352 177.004 633.922 177.754 Q635.514 178.504 637.013 180.213 Q638.536 181.9 639.449 185.249 Q640.363 188.575 640.363 193.166 Q640.363 200.591 636.756 205.299 Q633.172 210.007 628.324 210.007 Q625.255 210.007 623.452 208.625 Q621.648 207.219 621.648 204.83 Q621.648 203.589 622.351 203.074 Q623.054 202.535 623.85 202.535 Q624.717 202.535 625.396 203.12 Q626.075 203.683 626.075 204.737 Q626.075 205.603 625.513 206.283 Q624.974 206.938 623.569 206.938 Q624.951 208.672 628.277 208.672 Q629.471 208.672 630.666 208.133 Q631.86 207.571 633.149 206.236 Q634.46 204.877 635.257 202.043 Q636.053 199.209 636.053 195.227 L636.053 193.705 Q634.132 198.506 630.057 198.506 Q626.028 198.506 623.241 195.415 Q620.454 192.323 620.454 187.802 M624.763 187.849 Q624.763 192.604 625.63 194.36 Q627.106 197.382 630.104 197.382 Q633.032 197.382 634.484 194.782 Q635.959 192.159 635.959 188.763 Q635.959 184.055 635.186 181.993 Q633.758 178.199 630.572 178.199 Q627.41 178.199 625.771 181.221 Q624.763 183.001 624.763 187.849 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /><path clip-path="url(#clip490)" d="M644.396 201.715 Q644.396 196.351 651.305 192.885 Q648.331 190.871 647.792 190.285 Q645.684 187.943 645.684 185.015 Q645.684 181.666 648.214 179.347 Q650.767 177.004 654.374 177.004 Q657.817 177.004 660.417 178.995 Q663.017 180.986 663.017 184.148 Q663.017 188.599 657.208 191.597 Q661.049 193.986 661.963 194.993 Q664.305 197.593 664.305 200.895 Q664.305 204.737 661.354 207.383 Q658.402 210.007 654.327 210.007 Q650.345 210.007 647.37 207.688 Q644.396 205.369 644.396 201.715 M646.785 201.715 Q646.785 204.69 649.01 206.681 Q651.258 208.672 654.374 208.672 Q657.395 208.672 659.644 206.938 Q661.916 205.205 661.916 202.629 Q661.916 201.621 661.564 200.755 Q661.236 199.888 660.557 199.209 Q659.901 198.506 659.48 198.202 Q659.082 197.874 658.309 197.335 L652.406 193.611 Q646.785 196.726 646.785 201.715 M647.792 183.141 Q647.792 185.437 650.204 187.029 L656.154 190.871 Q660.909 188.083 660.909 184.148 Q660.909 181.595 658.964 179.909 Q657.02 178.199 654.327 178.199 Q651.68 178.199 649.736 179.604 Q647.792 180.986 647.792 183.141 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1" /></svg>
</div></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "julia-1.9"
        },
        kernelOptions: {
            name: "julia-1.9",
            path: "./multi_agent_models"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'julia-1.9'</script>

                    </div>
                    
                </main> <!-- .page__content -->
                


                <footer class="qe-page__footer">

                    <p><a href="https://creativecommons.org/licenses/by-sa/4.0/"><img src="https://licensebuttons.net/l/by-sa/4.0/80x15.png"></a></p>

                    <p>Creative Commons License &ndash; This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International.</p>

                </footer> <!-- .page__footer -->

            </div> <!-- .page -->

            

            
            <div class="qe-sidebar bd-sidebar inactive" id="site-navigation">

                <div class="qe-sidebar__header">


                    Contents

                </div>

                <nav class="qe-sidebar__nav" id="qe-sidebar-nav" aria-label="Main navigation">
                    <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting Started with Julia
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started_julia/getting_started.html">
   1. Setting up Your Julia Environment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started_julia/julia_by_example.html">
   2. Introductory Examples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started_julia/julia_essentials.html">
   3. Julia Essentials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started_julia/fundamental_types.html">
   4. Arrays, Tuples, Ranges, and Other Fundamental Types
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started_julia/introduction_to_types.html">
   5. Introduction to Types and Generic Programming
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Package Ecosystem
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../more_julia/generic_programming.html">
   6. Generic Programming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../more_julia/general_packages.html">
   7. General Purpose Packages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../more_julia/data_statistical_packages.html">
   8. Data and Statistics Packages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../more_julia/optimization_solver_packages.html">
   9. Solvers, Optimizers, and Automatic Differentiation
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Software Engineering
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../software_engineering/tools_editors.html">
   10. Visual Studio Code and Other Tools
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../software_engineering/version_control.html">
   11. GitHub, Version Control and Collaboration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../software_engineering/testing.html">
   12. Packages, Testing, and Continuous Integration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../software_engineering/need_for_speed.html">
   13. The Need for Speed
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Tools and Techniques
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/geom_series.html">
   14. Geometric Series for Elementary Economics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/linear_algebra.html">
   15. Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/orth_proj.html">
   16. Orthogonal Projections and Their Applications
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/lln_clt.html">
   17. LLN and CLT
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/stationary_densities.html">
   18. Continuous State Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/numerical_linear_algebra.html">
   19. Numerical Linear Algebra and Factorizations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../tools_and_techniques/iterative_methods_sparsity.html">
   20. Krylov Methods and Matrix Conditioning
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction to Dynamics
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/scalar_dynam.html">
   21. Dynamics in One Dimension
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/ar1_processes.html">
   22. AR1 Processes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/finite_markov.html">
   23. Finite Markov Chains
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/linear_models.html">
   24. Linear State Space Models
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/wealth_dynamics.html">
   25. Wealth Distribution Dynamics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/kalman.html">
   26. A First Look at the Kalman Filter
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../introduction_dynamics/short_path.html">
   27. Shortest Paths
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dynamic Programming
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/mccall_model.html">
   28. Job Search I: The McCall Search Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/mccall_model_with_separation.html">
   29. Job Search II: Search and Separation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/wald_friedman.html">
   30. A Problem that Stumped Milton Friedman
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/odu.html">
   31. Job Search III: Search with Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/career.html">
   32. Job Search IV: Modeling Career Choice
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/jv.html">
   33. Job Search V: On-the-Job Search
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/optgrowth.html">
   34. Optimal Growth I: The Stochastic Optimal Growth Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/coleman_policy_iter.html">
   35. Optimal Growth II: Time Iteration
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/egm_policy_iter.html">
   36. Optimal Growth III: The Endogenous Grid Method
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/lqcontrol.html">
   37. LQ Dynamic Programming Problems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/perm_income.html">
   38. Optimal Savings I: The Permanent Income Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/perm_income_cons.html">
   39. Optimal Savings II: LQ Techniques
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/smoothing.html">
   40. Consumption and Tax Smoothing with Complete and Incomplete Markets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/ifp.html">
   41. Optimal Savings III: Occasionally Binding Constraints
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/robustness.html">
   42. Robustness
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming/discrete_dp.html">
   43. Discrete State Dynamic Programming
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Modeling in Continuous Time
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../continuous_time/seir_model.html">
   44. Modeling COVID 19 with Differential Equations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../continuous_time/covid_sde.html">
   45. Modeling Shocks in COVID 19 with Stochastic Differential Equations
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Multiple Agent Models
 </span>
</p>
<ul class="current nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="schelling.html">
   46. Schelling’s Segregation Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="lake_model.html">
   47. A Lake Model of Employment and Unemployment
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="rational_expectations.html">
   48. Rational Expectations Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_perf.html">
   49. Markov Perfect Equilibrium
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markov_asset.html">
   50. Asset Pricing I: Finite State Models
  </a>
 </li>
 <li class="toctree-l1 current active active">
  <a class="current reference internal" href="#">
   51. Asset Pricing II: The Lucas Asset Pricing Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="harrison_kreps.html">
   52. Asset Pricing III:  Incomplete Markets
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="uncertainty_traps.html">
   53. Uncertainty Traps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="aiyagari.html">
   54. The Aiyagari Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="arellano.html">
   55. Default Risk and Income Fluctuations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="matsuyama.html">
   56. Globalization and Cycles
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Time Series Models
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/arma.html">
   57. Covariance Stationary Processes
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/estspec.html">
   58. Estimation of Spectra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/additive_functionals.html">
   59. Additive Functionals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/multiplicative_functionals.html">
   60. Multiplicative Functionals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/lu_tricks.html">
   61. Classical Control with Linear Algebra
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../time_series_models/classical_filtering.html">
   62. Classical Filtering With Linear Algebra
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Dynamic Programming Squared
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming_squared/dyn_stack.html">
   63. Dynamic Stackelberg Problems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming_squared/lqramsey.html">
   64. Optimal Taxation in an LQ Economy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming_squared/opt_tax_recur.html">
   65. Optimal Taxation with State-Contingent Debt
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../dynamic_programming_squared/amss.html">
   66. Optimal Taxation without State-Contingent Debt
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Other
 </span>
</p>
<ul class="nav bd-sidenav nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../about_lectures.html">
   67. About these Lectures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../troubleshooting.html">
   68. Troubleshooting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../zreferences.html">
   69. References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../status.html">
   70. Execution Statistics
  </a>
 </li>
</ul>

                </nav>

                <div class="qe-sidebar__footer">

                </div>

            </div> <!-- .sidebar -->
            
        </div> <!-- .main -->

        <div class="qe-toolbar">

            <div class="qe-toolbar__inner">

                <ul class="qe-toolbar__main">
                    <li data-tippy-content="Table of Contents" class="btn__sidebar"><i data-feather="menu"></i></li>
                    <li data-tippy-content="Home"><a href="../intro.html"><i data-feather="home"></i></a></li>
                    <li class="btn__qelogo"><a href="https://quantecon.org" title=""><span class="show-for-sr">QuantEcon</span></a></li>
                </ul>

                <ul class="qe-toolbar__links">
                    <li class="btn__search">
                        <form action="../search.html" method="get">
                            <input type="search" class="form-control" name="q" id="search-input" placeholder="Search..." aria-label="Search..." autocomplete="off" accesskey="k">
                            <i data-feather="search" id="search-icon"></i>
                        </form>
                    </li>
                    <li data-tippy-content="Fullscreen" class="btn__fullscreen"><i data-feather="maximize"></i></li>
                    <li data-tippy-content="Increase font size" class="btn__plus"><i data-feather="plus-circle"></i></li>
                    <li data-tippy-content="Decrease font size" class="btn__minus"><i data-feather="minus-circle"></i></li>
                    <li data-tippy-content="Change contrast" class="btn__contrast"><i data-feather="sunset"></i></li>
                    <li data-tippy-content="Download Notebook"><a href="/_notebooks/multi_agent_models/lucas_model.ipynb" download><i data-feather="download-cloud"></i></a></li>
                    <li class="settings-button" id="settingsButton"><div data-tippy-content="Launch Notebook"><i data-feather="play-circle"></i></div></li>
                        <li data-tippy-content="Download PDF" onClick="window.print()"><i data-feather="file"></i></li>
                    <li data-tippy-content="View Source"><a target="_blank" href="https://github.com/quantecon/lecture-julia.myst/blob/main/lectures/multi_agent_models/lucas_model.md" download><i data-feather="github"></i></a></li>
                </ul>

            </div>

        </div> <!-- .toolbar -->
        <div id="downloadPDFModal" style="display: none;">
            <ul class="pdf-options" style="display: block;">
                <li class="download-pdf-book" onClick="window.print()">
                    <p>Lecture (PDF)</p>
                </li>
                <li class="download-pdf-file">
                    <a href="" download><p>Book (PDF)</p></a>
                </li>
            </ul>
        </div>
        <div id="settingsModal" style="display: none;">
            <p class="modal-title"> Notebook Launcher </p>
            <div class="modal-desc">
            <p>
                Choose public or private cloud service for "Launch" button.
            </p>
            </div>
            <p class="modal-subtitle">Select a server</p>
            <ul class="modal-servers">
            <li class="active launcher-public">
                <span class="label">Public</span>
                <select id="launcher-public-input">
                
                    <option value="https://colab.research.google.com/github/quantecon/lecture-julia.notebooks/blob/main/multi_agent_models/lucas_model.ipynb">Colab</option>
                
                </select>
                <i class="fas fa-check-circle"></i>
            </li>
            <li class="launcher-private">
                <span class="label">Private</span>
                <input type="text" id="launcher-private-input" data-repourl="https://github.com/quantecon/lecture-julia.notebooks" data-urlpath="tree/lecture-julia.notebooks/multi_agent_models/lucas_model.ipynb" data-branch=main>
                <i class="fas fa-check-circle"></i>
            </li>
            </ul>
            <p class="launch"><a href="https://colab.research.google.com/github/quantecon/lecture-julia.notebooks/blob/main/multi_agent_models/lucas_model.ipynb" id="advancedLaunchButton" target="_blank">Launch Notebook</a></p>
            <script>
                // QuantEcon Notebook Launcher
                const launcherTypeElements = document.querySelectorAll('#settingsModal .modal-servers li');
                // Highlight the server type if previous selection exists
                if (typeof localStorage.launcherType !== 'undefined') {
                  for (var i = 0; i < launcherTypeElements.length; i++) {
                    launcherTypeElements[i].classList.remove('active');
                    if ( launcherTypeElements[i].classList.contains(localStorage.launcherType) ) {
                      launcherTypeElements[i].classList.add('active');
                    }
                  }
                }
                // Highlight server type on click and set local storage value
                for (var i = 0; i < launcherTypeElements.length; i++) {
                  launcherTypeElements[i].addEventListener('click', function() {
                    for (var j = 0; j < launcherTypeElements.length; j++) {
                      launcherTypeElements[j].classList.remove('active');
                    }
                    this.classList.add('active');
                    if ( this.classList.contains('launcher-private') ) {
                      localStorage.launcherType = 'launcher-private';
                    } else if ( this.classList.contains('launcher-public') ) {
                      localStorage.launcherType = 'launcher-public';
                    }
                    setLaunchServer();
                  })
                }
                const launcherPublic = document.getElementById('launcher-public-input');
                const launcherPrivate = document.getElementById('launcher-private-input');
                const pageName = "multi_agent_models/lucas_model";
                const repoURL = "https://github.com/quantecon/lecture-julia.notebooks";
                const urlPath = "tree/lecture-julia.notebooks/multi_agent_models/lucas_model.ipynb";
                const branch = "main"
                const launchNotebookLink = document.getElementById('advancedLaunchButton');

                // Highlight public server option if previous selection exists
                if (typeof localStorage.launcherPublic !== 'undefined') {
                  launcherPublic.value = localStorage.launcherPublic;
                }
                // Update local storage upon public server selection
                launcherPublic.addEventListener('change', (event) => {
                  setLaunchServer();
                });
                // Populate private server input if previous entry exists
                if (typeof localStorage.launcherPrivate !== 'undefined') {
                  launcherPrivate.value = localStorage.launcherPrivate;
                }
                // Update local storage when a private server is entered
                launcherPrivate.addEventListener('input', (event) => {
                  setLaunchServer();
                });

                // Function to update the "Launch Notebook" link href
                function setLaunchServer() {
                  launchNotebookLink.removeAttribute("style")
                  if ( localStorage.launcherType == 'launcher-private' ) {
                    let repoPrefix = "/jupyter/hub/user-redirect/git-pull?repo=" + repoURL + "&branch=" + branch + "&urlpath=" + urlPath;
                    launcherPrivateValue = launcherPrivate.value
                    if (!launcherPrivateValue) {
                        launchNotebookLink.removeAttribute("href")
                        launchNotebookLink.style.background = "grey"
                        return
                    }
                    localStorage.launcherPrivate = launcherPrivateValue;
                    privateServer = localStorage.launcherPrivate.replace(/\/$/, "")
                    if (!privateServer.includes("http")) {
                        privateServer = "http://" + privateServer
                    }
                    launchNotebookLinkURL = privateServer + repoPrefix;
                  } else if ( localStorage.launcherType == 'launcher-public' ) {
                    launcherPublicValue = launcherPublic.options[launcherPublic.selectedIndex].value;
                    localStorage.launcherPublic = launcherPublicValue;
                    launchNotebookLinkURL = localStorage.launcherPublic;
                  }
                  if (launchNotebookLinkURL) launchNotebookLink.href = launchNotebookLinkURL;
                }
                // Check if user has previously selected a server
                if ( (typeof localStorage.launcherPrivate !== 'undefined') || (typeof localStorage.launcherPublic !== 'undefined') ) {
                  setLaunchServer();
                }
                </script>

        </div>

    </div> <!-- .wrapper-->
  </body>
</html>